import{f as z,c as i,o as l,a as p,u as t,h as V,w as c,b as e,l as _,d as o,t as u,i as U,j as f,e as x,n as b,v,s as y,F as g,r as S,x as h}from"./app-BAeMEX1w.js";import{_ as C}from"./AdminLayout-DUtxSjzB.js";const E={class:"py-6 dashboard-admin"},N={class:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8"},j={class:"mb-8"},B={class:"flex items-center"},$={class:"mt-2 text-gray-600"},F={class:"card-medieval"},I={class:"p-6 space-y-6"},M={key:0,class:"mt-1 text-sm text-red-600"},T={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},D={class:"card-medieval"},O={class:"p-6 space-y-4"},P={class:"flex items-center justify-between"},q={class:"flex items-center justify-between"},A={key:0},L={key:0,class:"mt-1 text-sm text-red-600"},R={class:"card-medieval"},G={class:"p-6"},H={key:0,class:"text-center text-gray-500 py-4"},J={key:1,class:"space-y-3"},K=["id","value"],Q=["for"],W={key:2,class:"mt-2 text-sm text-red-600"},X={class:"flex justify-end space-x-4"},Y=["disabled"],Z={key:0,class:"fas fa-spinner fa-spin mr-2"},ee={key:1,class:"fas fa-save mr-2"},re={__name:"Edit",props:{user:Object,roles:Array},setup(n){const d=n,r=z({name:d.user.name||"",email:d.user.email||"",is_staff:d.user.is_staff||!1,is_vip:d.user.is_vip||!1,vip_expires_at:d.user.vip_expires_at?d.user.vip_expires_at.split("T")[0]:"",roles:(d.user.roles||[]).map(m=>m.id)});function k(){var m;(m=d.user)!=null&&m.uuid&&r.put(route("admin.users.update",d.user))}return(m,s)=>(l(),i(g,null,[p(t(V),{title:`Editar Usuário: ${n.user.name}`},null,8,["title"]),p(C,null,{default:c(()=>[e("div",E,[e("div",N,[e("div",j,[e("div",B,[p(t(_),{href:m.route("admin.users.show",n.user),class:"text-medieval-bronze hover:text-medieval-gold mr-4"},{default:c(()=>[...s[6]||(s[6]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),o(" Voltar ",-1)])]),_:1},8,["href"]),e("div",null,[s[7]||(s[7]=e("h1",{class:"text-3xl font-bold text-medieval-bronze"},[e("i",{class:"fas fa-user-edit mr-3"}),o(" Editar Usuário ")],-1)),e("p",$," Editando informações de "+u(n.user.name),1)])])]),e("form",{onSubmit:U(k,["prevent"]),class:"space-y-8"},[e("div",F,[s[11]||(s[11]=e("div",{class:"px-6 py-4 border-b border-medieval-bronze"},[e("h3",{class:"text-lg font-bold text-medieval-bronze"},[e("i",{class:"fas fa-info-circle mr-2"}),o(" Informações Básicas ")])],-1)),e("div",I,[e("div",null,[s[8]||(s[8]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-user mr-1"}),o(" Nome Completo * ")],-1)),f(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=a=>t(r).name=a),type:"text",required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":t(r).errors.name}])},null,2),[[v,t(r).name]]),t(r).errors.name?(l(),i("p",M,u(t(r).errors.name),1)):x("",!0)]),e("div",null,[s[9]||(s[9]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-envelope mr-1"}),o(" Email ")],-1)),f(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=a=>t(r).email=a),type:"email",disabled:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed"},null,512),[[v,t(r).email]]),s[10]||(s[10]=e("p",{class:"mt-1 text-sm text-gray-500"}," O email não pode ser alterado ",-1))])])]),e("div",T,[e("div",D,[s[15]||(s[15]=e("div",{class:"px-6 py-4 border-b border-medieval-bronze"},[e("h3",{class:"text-lg font-bold text-medieval-bronze"},[e("i",{class:"fas fa-shield-alt mr-2"}),o(" Status ")])],-1)),e("div",O,[e("div",P,[s[12]||(s[12]=e("label",{for:"is_staff",class:"text-sm font-medium text-gray-700"},[e("i",{class:"fas fa-crown mr-1"}),o(" Staff ")],-1)),f(e("input",{id:"is_staff","onUpdate:modelValue":s[2]||(s[2]=a=>t(r).is_staff=a),type:"checkbox",class:"h-4 w-4 text-medieval-bronze focus:ring-medieval-bronze border-gray-300 rounded"},null,512),[[y,t(r).is_staff]])]),e("div",q,[s[13]||(s[13]=e("label",{for:"is_vip",class:"text-sm font-medium text-gray-700"},[e("i",{class:"fas fa-star mr-1"}),o(" VIP ")],-1)),f(e("input",{id:"is_vip","onUpdate:modelValue":s[3]||(s[3]=a=>t(r).is_vip=a),type:"checkbox",class:"h-4 w-4 text-medieval-bronze focus:ring-medieval-bronze border-gray-300 rounded"},null,512),[[y,t(r).is_vip]])]),t(r).is_vip?(l(),i("div",A,[s[14]||(s[14]=e("label",{for:"vip_expires_at",class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-calendar mr-1"}),o(" VIP expira em ")],-1)),f(e("input",{id:"vip_expires_at","onUpdate:modelValue":s[4]||(s[4]=a=>t(r).vip_expires_at=a),type:"date",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":t(r).errors.vip_expires_at}])},null,2),[[v,t(r).vip_expires_at]]),t(r).errors.vip_expires_at?(l(),i("p",L,u(t(r).errors.vip_expires_at),1)):x("",!0)])):x("",!0)])]),e("div",R,[s[17]||(s[17]=e("div",{class:"px-6 py-4 border-b border-medieval-bronze"},[e("h3",{class:"text-lg font-bold text-medieval-bronze"},[e("i",{class:"fas fa-user-tag mr-2"}),o(" Roles ")])],-1)),e("div",G,[(n.roles||[]).length===0?(l(),i("div",H,[...s[16]||(s[16]=[e("i",{class:"fas fa-user-tag text-2xl mb-2"},null,-1),e("p",{class:"text-sm"},"Nenhum role disponível",-1)])])):(l(),i("div",J,[(l(!0),i(g,null,S(n.roles||[],a=>(l(),i("div",{key:a.id,class:"flex items-center"},[f(e("input",{id:`role_${a.id}`,"onUpdate:modelValue":s[5]||(s[5]=w=>t(r).roles=w),value:a.id,type:"checkbox",class:"h-4 w-4 text-medieval-bronze focus:ring-medieval-bronze border-gray-300 rounded"},null,8,K),[[y,t(r).roles]]),e("label",{for:`role_${a.id}`,class:"ml-3 flex items-center text-sm"},[e("i",{class:b([a.icon,"mr-2"]),style:h({color:a.color})},null,6),e("span",{style:h({color:a.color})},u(a.display_name),5)],8,Q)]))),128))])),t(r).errors.roles?(l(),i("p",W,u(t(r).errors.roles),1)):x("",!0)])])]),e("div",X,[p(t(_),{href:m.route("admin.users.show",n.user),class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors duration-200"},{default:c(()=>[...s[18]||(s[18]=[o(" Cancelar ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:t(r).processing,class:"px-4 py-2 bg-medieval-bronze text-white rounded-md hover:bg-medieval-gold transition-colors duration-200 disabled:opacity-50"},[t(r).processing?(l(),i("i",Z)):(l(),i("i",ee)),o(" "+u(t(r).processing?"Salvando...":"Salvar"),1)],8,Y)])],32)])])]),_:1})],64))}};export{re as default};
