import{f as $,g as R,o as i,w as v,b as e,a as j,d as l,u as s,l as A,i as G,j as u,c as n,e as p,n as b,F as D,r as L,t as a,k as O,v as c,s as g}from"./app-BAeMEX1w.js";import{_ as H}from"./AdminLayout-DUtxSjzB.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"py-12"},Q={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},W={class:"mb-8"},X={class:"flex justify-between items-center"},Y={class:"card-medieval"},Z={class:"p-8"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},te={class:"md:col-span-2"},se={class:"mb-4"},oe=["value"],re={key:0,class:"mt-1 text-sm text-red-600"},le={class:"mb-4"},ie=["value"],ne={key:0,class:"mt-1 text-sm text-red-600"},ae={class:"md:col-span-2"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={key:0,class:"mt-1 text-sm text-red-600"},ue={key:0,class:"mt-1 text-sm text-red-600"},pe={class:"md:col-span-2"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ce={key:0,class:"mt-1 text-sm text-red-600"},fe={key:0,class:"mt-1 text-sm text-red-600"},ve={key:0,class:"mt-1 text-sm text-red-600"},ge={key:0,class:"mt-1 text-sm text-red-600"},xe={key:0,class:"mt-1 text-sm text-red-600"},_e={key:0,class:"mt-1 text-sm text-red-600"},ye={class:"md:col-span-2"},ke={class:"space-y-4"},Ie={class:"flex items-center"},ze={class:"flex items-center"},we={class:"flex items-center"},qe={class:"flex justify-end space-x-4 mt-8"},Ve=["disabled"],he={key:0,class:"fas fa-spinner fa-spin mr-2"},Ue={key:1,class:"fas fa-save mr-2"},Ce={__name:"Edit",props:{shopItem:Object,items:Array,equipment:Array},setup(f){var _,y,k,I,z,w,q,V,h,U,C,S,E;const d=f,o=$({item_id:((_=d.shopItem)==null?void 0:_.item_id)||"",equipment_id:((y=d.shopItem)==null?void 0:y.equipment_id)||"",gold_price:((k=d.shopItem)==null?void 0:k.gold_price)||0,coin_price:((I=d.shopItem)==null?void 0:I.coin_price)||0,is_available:((z=d.shopItem)==null?void 0:z.is_available)||!0,stock_quantity:((w=d.shopItem)==null?void 0:w.stock_quantity)||null,daily_limit:((q=d.shopItem)==null?void 0:q.daily_limit)||null,min_level:((V=d.shopItem)==null?void 0:V.min_level)||1,max_level:((h=d.shopItem)==null?void 0:h.max_level)||null,is_featured:((U=d.shopItem)==null?void 0:U.is_featured)||!1,is_limited_time:((C=d.shopItem)==null?void 0:C.is_limited_time)||!1,available_until:(S=d.shopItem)!=null&&S.available_until?new Date(d.shopItem.available_until).toISOString().slice(0,16):null,discount_percentage:((E=d.shopItem)==null?void 0:E.discount_percentage)||0}),B=()=>{var m;o.post(route("admin.shop.update",{shopItem:(m=d.shopItem)==null?void 0:m.uuid}))},P=m=>m.name,F=m=>m.name,x=m=>({weapon:"Arma",armor:"Armadura",helmet:"Capacete",shield:"Escudo",boots:"Botas",pants:"Calças",potion:"Poção",material:"Material",accessory:"Acessório"})[m]||m,T=m=>({common:"Comum",uncommon:"Incomum",rare:"Raro",epic:"Épico",legendary:"Lendário"})[m]||m;return(m,t)=>(i(),R(H,null,{default:v(()=>{var M,N;return[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[t[16]||(t[16]=e("div",null,[e("h1",{class:"text-3xl font-bold text-medieval-bronze mb-2"},[e("i",{class:"fas fa-edit mr-3"}),l(" Editar Item da Loja ")]),e("p",{class:"text-gray-600"},"Modifique as configurações do item na loja")],-1)),j(s(A),{href:m.route("admin.shop.show",{shopItem:(M=f.shopItem)==null?void 0:M.uuid}),class:"btn-medieval bg-transparent text-medieval-bronze hover:bg-medieval-bronze hover:text-white"},{default:v(()=>[...t[15]||(t[15]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),l(" Voltar ",-1)])]),_:1},8,["href"])])]),e("div",Y,[e("div",Z,[e("form",{onSubmit:G(B,["prevent"])},[e("div",ee,[e("div",te,[t[21]||(t[21]=e("h3",{class:"text-lg font-semibold text-medieval-bronze mb-4"},[e("i",{class:"fas fa-box mr-2"}),l(" Seleção do Item ")],-1)),t[22]||(t[22]=e("p",{class:"text-sm text-gray-600 mb-4"},[e("i",{class:"fas fa-info-circle mr-1"}),l(" Selecione "),e("strong",null,"apenas um"),l(" item OU equipamento para vender na loja. ")],-1)),e("div",se,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Item ",-1)),u(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>s(o).item_id=r),onChange:t[1]||(t[1]=r=>s(o).equipment_id=""),class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.item_id}])},[t[17]||(t[17]=e("option",{value:""},"Selecione um item",-1)),(i(!0),n(D,null,L(f.items,r=>(i(),n("option",{key:r.id,value:r.id},a(P(r))+" ("+a(x(r.type))+" - "+a(T(r.rarity))+") ",9,oe))),128))],34),[[O,s(o).item_id]]),s(o).errors.item_id?(i(),n("div",re,a(s(o).errors.item_id),1)):p("",!0)]),e("div",le,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Equipamento ",-1)),u(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>s(o).equipment_id=r),onChange:t[3]||(t[3]=r=>s(o).item_id=""),class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.equipment_id}])},[t[19]||(t[19]=e("option",{value:""},"Selecione um equipamento",-1)),(i(!0),n(D,null,L(f.equipment,r=>(i(),n("option",{key:r.id,value:r.id},a(F(r))+" ("+a(x(r.type))+") ",9,ie))),128))],34),[[O,s(o).equipment_id]]),s(o).errors.equipment_id?(i(),n("div",ne,a(s(o).errors.equipment_id),1)):p("",!0)])]),e("div",ae,[t[25]||(t[25]=e("h3",{class:"text-lg font-semibold text-medieval-bronze mb-4"},[e("i",{class:"fas fa-coins mr-2"}),l(" Preços ")],-1)),e("div",de,[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-coins mr-1"}),l(" Preço em Ouro ")],-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>s(o).gold_price=r),type:"number",min:"0",required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.gold_price}])},null,2),[[c,s(o).gold_price,void 0,{number:!0}]]),s(o).errors.gold_price?(i(),n("div",me,a(s(o).errors.gold_price),1)):p("",!0)]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-coins mr-1"}),l(" Preço em Coins ")],-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>s(o).coin_price=r),type:"number",min:"0",required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.coin_price}])},null,2),[[c,s(o).coin_price,void 0,{number:!0}]]),s(o).errors.coin_price?(i(),n("div",ue,a(s(o).errors.coin_price),1)):p("",!0)])])]),e("div",pe,[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-medieval-bronze mb-4"},[e("i",{class:"fas fa-cogs mr-2"}),l(" Configurações ")],-1)),e("div",be,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-boxes mr-1"}),l(" Estoque (deixe vazio para ilimitado) ")],-1)),u(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>s(o).stock_quantity=r),type:"number",min:"0",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.stock_quantity}])},null,2),[[c,s(o).stock_quantity,void 0,{number:!0}]]),s(o).errors.stock_quantity?(i(),n("div",ce,a(s(o).errors.stock_quantity),1)):p("",!0)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-calendar-day mr-1"}),l(" Limite Diário por Personagem ")],-1)),u(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>s(o).daily_limit=r),type:"number",min:"0",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.daily_limit}])},null,2),[[c,s(o).daily_limit,void 0,{number:!0}]]),s(o).errors.daily_limit?(i(),n("div",fe,a(s(o).errors.daily_limit),1)):p("",!0)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-level-up-alt mr-1"}),l(" Nível Mínimo ")],-1)),u(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>s(o).min_level=r),type:"number",min:"1",required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.min_level}])},null,2),[[c,s(o).min_level,void 0,{number:!0}]]),s(o).errors.min_level?(i(),n("div",ve,a(s(o).errors.min_level),1)):p("",!0)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-level-up-alt mr-1"}),l(" Nível Máximo (opcional) ")],-1)),u(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>s(o).max_level=r),type:"number",min:"1",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.max_level}])},null,2),[[c,s(o).max_level,void 0,{number:!0}]]),s(o).errors.max_level?(i(),n("div",ge,a(s(o).errors.max_level),1)):p("",!0)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-percentage mr-1"}),l(" Desconto (%) ")],-1)),u(e("input",{"onUpdate:modelValue":t[10]||(t[10]=r=>s(o).discount_percentage=r),type:"number",min:"0",max:"100",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.discount_percentage}])},null,2),[[c,s(o).discount_percentage,void 0,{number:!0}]]),s(o).errors.discount_percentage?(i(),n("div",xe,a(s(o).errors.discount_percentage),1)):p("",!0)]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-clock mr-1"}),l(" Disponível Até (opcional) ")],-1)),u(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>s(o).available_until=r),type:"datetime-local",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":s(o).errors.available_until}])},null,2),[[c,s(o).available_until]]),s(o).errors.available_until?(i(),n("div",_e,a(s(o).errors.available_until),1)):p("",!0)])])]),e("div",ye,[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-medieval-bronze mb-4"},[e("i",{class:"fas fa-toggle-on mr-2"}),l(" Opções ")],-1)),e("div",ke,[e("div",Ie,[u(e("input",{"onUpdate:modelValue":t[12]||(t[12]=r=>s(o).is_available=r),type:"checkbox",id:"is_available",class:"h-4 w-4 text-medieval-bronze focus:ring-medieval-bronze border-gray-300 rounded"},null,512),[[g,s(o).is_available]]),t[33]||(t[33]=e("label",{for:"is_available",class:"ml-2 block text-sm text-gray-900"}," Disponível para compra ",-1))]),e("div",ze,[u(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>s(o).is_featured=r),type:"checkbox",id:"is_featured",class:"h-4 w-4 text-medieval-bronze focus:ring-medieval-bronze border-gray-300 rounded"},null,512),[[g,s(o).is_featured]]),t[34]||(t[34]=e("label",{for:"is_featured",class:"ml-2 block text-sm text-gray-900"}," Item em destaque ",-1))]),e("div",we,[u(e("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>s(o).is_limited_time=r),type:"checkbox",id:"is_limited_time",class:"h-4 w-4 text-medieval-bronze focus:ring-medieval-bronze border-gray-300 rounded"},null,512),[[g,s(o).is_limited_time]]),t[35]||(t[35]=e("label",{for:"is_limited_time",class:"ml-2 block text-sm text-gray-900"}," Oferta por tempo limitado ",-1))])])])]),e("div",qe,[j(s(A),{href:m.route("admin.shop.show",{shopItem:(N=f.shopItem)==null?void 0:N.uuid}),class:"btn-medieval bg-transparent text-medieval-bronze hover:bg-medieval-bronze hover:text-white"},{default:v(()=>[...t[37]||(t[37]=[l(" Cancelar ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:s(o).processing,class:"btn-medieval bg-medieval-gold hover:bg-medieval-bronze text-white disabled:opacity-50"},[s(o).processing?(i(),n("i",he)):(i(),n("i",Ue)),l(" "+a(s(o).processing?"Salvando...":"Salvar Alterações"),1)],8,Ve)])],32)])])])])]}),_:1}))}},Ne=J(Ce,[["__scopeId","data-v-409ecee4"]]);export{Ne as default};
