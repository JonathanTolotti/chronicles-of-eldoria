import{m as k,z as V,y as x,p as q,g as b,o as p,b as t,a as z,w as P,f as A,d as B,l as E,t as o,q as F,e as U,k as T,I,x as D}from"./app-DrQb64Rf.js";const G={class:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100"},L={class:"bg-medieval-dark text-medieval-gold shadow-lg"},O={class:"container mx-auto px-4 py-4"},$={class:"flex justify-between items-center"},R={class:"flex-1 flex justify-end space-x-4"},H={class:"flex-1 p-4"},J={class:"max-w-4xl mx-auto"},K={class:"card-medieval mb-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={class:"space-y-2 text-sm"},X={class:"flex justify-between"},Y={class:"font-semibold text-medieval-gold"},Z={class:"flex justify-between"},tt={class:"font-semibold text-medieval-gold"},et={class:"flex justify-between"},st={class:"font-semibold text-medieval-gold"},at={class:"flex justify-between"},ot={class:"font-semibold text-green-600"},nt={class:"space-y-2 text-sm"},it={class:"flex justify-between"},lt={class:"font-semibold text-medieval-gold"},rt={class:"flex justify-between"},dt={class:"font-semibold text-medieval-gold"},ct={class:"flex justify-between"},ut={class:"font-semibold text-medieval-gold"},mt={class:"flex justify-between"},vt={class:"font-semibold text-medieval-gold"},gt={class:"flex justify-between"},ft={class:"font-semibold text-medieval-gold"},xt={key:0,class:"card-medieval mb-6"},bt={class:"bg-amber-50 p-4 rounded-lg"},pt={class:"mb-4"},ht={class:"text-medieval font-semibold"},wt={class:"text-sm text-medieval"},yt={class:"text-xs text-gray-600 mt-1"},_t={class:"w-full bg-gray-300 rounded-full h-3"},kt={key:1,class:"card-medieval"},Tt=["disabled"],Dt={__name:"Index",props:{character:Object},setup(s){const i=s,l=k({stat:"",duration:""}),u=k(new Date);let g=null;const S=a=>{switch(a){case"warrior":return"Guerreiro";case"mage":return"Mago";case"archer":return"Arqueiro";case"rogue":return"Ladino";default:return"Guerreiro"}},j=a=>{switch(a){case"strength":return"Força";case"dexterity":return"Destreza";case"constitution":return"Constituição";case"intelligence":return"Inteligência";case"luck":return"Sorte";default:return a}},C=()=>{var c;if(!((c=i.character)!=null&&c.training_ends_at))return"0 minutos";const a=u.value,n=new Date(i.character.training_ends_at)-a;if(n<=0)return"Pronto!";const r=Math.floor(n/6e4),d=Math.floor(n%6e4/1e3);return`${r}m ${d}s`},M=()=>{var m,v;if(!((m=i.character)!=null&&m.training_ends_at)||!((v=i.character)!=null&&v.training_started_at))return 0;const a=u.value,e=new Date(i.character.training_started_at),r=new Date(i.character.training_ends_at)-e,d=a-e;return r<=0?100:Math.min(100,Math.max(0,d/r*100))},N=()=>{x.post(route("training.start"),l.value,{onSuccess:()=>{l.value={stat:"",duration:""}}})};return V(()=>{g=setInterval(()=>{var e;if(u.value=new Date,(e=i.character)!=null&&e.training_stat){const n=new Date(i.character.training_ends_at);u.value>=n&&x.reload()}},1e3);const a=setInterval(()=>{var e;if((e=i.character)!=null&&e.training_stat){const n=new Date(i.character.training_ends_at);u.value>=n&&x.reload()}},3e4);window.backendCheckInterval=a}),q(()=>{g&&clearInterval(g),window.backendCheckInterval&&clearInterval(window.backendCheckInterval)}),(a,e)=>{var n,r,d,c,m,v,h,w,y,_;return p(),b("div",G,[t("header",L,[t("div",O,[t("div",$,[e[3]||(e[3]=t("div",{class:"flex-1"},[t("h1",{class:"text-2xl font-bold font-medieval-decorative"},"Chronicles of Eldoria")],-1)),e[4]||(e[4]=t("div",{class:"flex-1 text-center"},[t("h2",{class:"text-lg font-medieval"},"Treinamento")],-1)),t("div",R,[z(B(E),{href:a.route("dashboard"),class:"btn-medieval text-sm px-4 py-2 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark"},{default:P(()=>[...e[2]||(e[2]=[A(" Voltar ao Dashboard ",-1)])]),_:1},8,["href"])])])])]),t("main",H,[t("div",J,[t("div",K,[e[16]||(e[16]=t("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Status do Personagem",-1)),t("div",Q,[t("div",null,[e[9]||(e[9]=t("h4",{class:"subtitle-medieval mb-3 text-medieval-gold"},"Informações",-1)),t("div",W,[t("div",X,[e[5]||(e[5]=t("span",{class:"text-medieval"},"Nome:",-1)),t("span",Y,o((n=s.character)==null?void 0:n.name),1)]),t("div",Z,[e[6]||(e[6]=t("span",{class:"text-medieval"},"Classe:",-1)),t("span",tt,o(S((r=s.character)==null?void 0:r.class)),1)]),t("div",et,[e[7]||(e[7]=t("span",{class:"text-medieval"},"Nível:",-1)),t("span",st,o((d=s.character)==null?void 0:d.level),1)]),t("div",at,[e[8]||(e[8]=t("span",{class:"text-medieval"},"Pontos Livres:",-1)),t("span",ot,o(((c=s.character)==null?void 0:c.stat_points)||0),1)])])]),t("div",null,[e[15]||(e[15]=t("h4",{class:"subtitle-medieval mb-3 text-medieval-gold"},"Atributos",-1)),t("div",nt,[t("div",it,[e[10]||(e[10]=t("span",{class:"text-medieval"},"Força:",-1)),t("span",lt,o(((m=s.character)==null?void 0:m.strength)||0),1)]),t("div",rt,[e[11]||(e[11]=t("span",{class:"text-medieval"},"Destreza:",-1)),t("span",dt,o(((v=s.character)==null?void 0:v.dexterity)||0),1)]),t("div",ct,[e[12]||(e[12]=t("span",{class:"text-medieval"},"Constituição:",-1)),t("span",ut,o(((h=s.character)==null?void 0:h.constitution)||0),1)]),t("div",mt,[e[13]||(e[13]=t("span",{class:"text-medieval"},"Inteligência:",-1)),t("span",vt,o(((w=s.character)==null?void 0:w.intelligence)||0),1)]),t("div",gt,[e[14]||(e[14]=t("span",{class:"text-medieval"},"Sorte:",-1)),t("span",ft,o(((y=s.character)==null?void 0:y.luck)||0),1)])])])])]),(_=s.character)!=null&&_.training_stat?(p(),b("div",xt,[e[18]||(e[18]=t("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Treinamento Ativo",-1)),t("div",bt,[t("div",pt,[t("p",ht," Treinando: "+o(j(s.character.training_stat)),1),t("p",wt," Tempo restante: "+o(C()),1),t("p",yt," Pontos a receber: "+o(s.character.training_points||0),1)]),t("div",_t,[t("div",{class:"bg-green-500 h-3 rounded-full transition-all duration-300",style:F({width:M()+"%"})},null,4)]),e[17]||(e[17]=t("p",{class:"text-xs text-gray-600 mt-2"}," O treinamento será concluído automaticamente quando o tempo acabar. ",-1))])])):(p(),b("div",kt,[e[23]||(e[23]=t("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Iniciar Treinamento",-1)),t("form",{onSubmit:U(N,["prevent"]),class:"space-y-4"},[t("div",null,[e[20]||(e[20]=t("label",{class:"block text-medieval font-semibold mb-2"},"Atributo para Treinar",-1)),T(t("select",{"onUpdate:modelValue":e[0]||(e[0]=f=>l.value.stat=f),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medieval-gold focus:border-transparent",required:""},[...e[19]||(e[19]=[D('<option value="">Selecione um atributo</option><option value="strength">Força (+2 pontos por hora)</option><option value="dexterity">Destreza (+2 pontos por hora)</option><option value="constitution">Constituição (+2 pontos por hora)</option><option value="intelligence">Inteligência (+2 pontos por hora)</option><option value="luck">Sorte (+2 pontos por hora)</option>',6)])],512),[[I,l.value.stat]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-medieval font-semibold mb-2"},"Duração (minutos)",-1)),T(t("select",{"onUpdate:modelValue":e[1]||(e[1]=f=>l.value.duration=f),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medieval-gold focus:border-transparent",required:""},[...e[21]||(e[21]=[D('<option value="">Selecione a duração</option><option value="5">5 minutos (+1 ponto)</option><option value="15">15 minutos (+3 pontos)</option><option value="30">30 minutos (+6 pontos)</option><option value="60">1 hora (+12 pontos)</option>',5)])],512),[[I,l.value.duration]])]),t("button",{type:"submit",class:"btn-medieval w-full py-3 text-lg",disabled:!l.value.stat||!l.value.duration}," Iniciar Treinamento ",8,Tt)],32)]))])]),e[24]||(e[24]=t("footer",{class:"bg-medieval-dark text-medieval-stone text-center py-4"},[t("p",null,"© 2025 Chronicles of Eldoria. Todos os direitos reservados.")],-1))])}}};export{Dt as default};
