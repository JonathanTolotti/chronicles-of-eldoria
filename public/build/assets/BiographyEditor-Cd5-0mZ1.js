import{I as g,p as u,g as l,o as i,b as e,i as p,t as c,k as m,G as x,v as y,a as h,w as _,T as B,e as w,B as k}from"./app-C9xiGsXn.js";const T={class:"space-y-4"},S={class:"mt-1 text-xs text-gray-500"},M={class:"flex items-center"},V={class:"flex items-center gap-4"},E=["disabled"],z={key:0,class:"text-sm text-green-600"},C={key:0,class:"mt-6"},P=["innerHTML"],L={__name:"BiographyEditor",props:{currentBiography:{type:String,default:""},isPublic:{type:Boolean,default:!0}},setup(v){const d=v,t=g({biography:d.currentBiography,profile_public:d.isPublic}),a=u(!1),s=u(!1),b=()=>{a.value=!0,s.value=!1,k.post(route("profile.update-profile"),t,{preserveScroll:!0,preserveState:!0,onSuccess:()=>{a.value=!1,s.value=!0,setTimeout(()=>{s.value=!1},3e3)},onError:n=>{a.value=!1,console.error("Erro ao salvar biografia:",n)}})},f=["p","br","strong","em","u","ol","ul","li","h1","h2","h3","h4","h5","h6"];return(n,o)=>(i(),l("div",T,[e("div",null,[o[2]||(o[2]=e("h3",{class:"text-lg font-medium text-medieval"},"Biografia",-1)),o[3]||(o[3]=e("p",{class:"mt-1 text-sm text-medieval"}," Escreva uma breve biografia sobre você. Você pode usar HTML básico para formatação. ",-1)),e("p",S," Tags permitidas: "+c(f.join(", ")),1)]),e("form",{onSubmit:w(b,["prevent"]),class:"space-y-4"},[e("div",null,[o[4]||(o[4]=e("label",{for:"biography",class:"block text-sm font-medium text-medieval mb-2"},"Biografia",-1)),m(e("textarea",{id:"biography","onUpdate:modelValue":o[0]||(o[0]=r=>t.biography=r),rows:"6",class:"w-full px-3 py-2 border border-medieval-bronze rounded-lg focus:ring-2 focus:ring-medieval-gold focus:border-medieval-gold text-medieval-dark",placeholder:"Conte um pouco sobre você..."},null,512),[[x,t.biography]])]),e("div",M,[m(e("input",{id:"profile_public","onUpdate:modelValue":o[1]||(o[1]=r=>t.profile_public=r),type:"checkbox",class:"h-4 w-4 rounded border-medieval-bronze text-medieval-gold focus:ring-medieval-gold"},null,512),[[y,t.profile_public]]),o[5]||(o[5]=e("label",{for:"profile_public",class:"ml-2 text-sm text-medieval"}," Tornar perfil público ",-1))]),e("div",V,[e("button",{type:"submit",disabled:a.value,class:"btn-medieval px-4 py-2 bg-medieval-gold text-medieval-dark hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},c(a.value?"Salvando...":"Salvar Biografia"),9,E),h(B,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:_(()=>[s.value?(i(),l("p",z," Biografia atualizada! ")):p("",!0)]),_:1})])],32),t.biography?(i(),l("div",C,[o[6]||(o[6]=e("h4",{class:"text-sm font-medium text-medieval"},"Preview:",-1)),e("div",{class:"mt-2 rounded-lg border border-medieval-bronze bg-amber-50 p-4 text-sm",innerHTML:t.biography},null,8,P)])):p("",!0)]))}};export{L as default};
