import{m as qe,p as b,q as Be,s as Ne,g as r,o as i,b as e,i as p,a as Fe,w as He,f as Re,d as Ve,l as Xe,t as a,x as N,F as P,y as O,k as De,v as Ie,z as Me,n as Se,A as Le}from"./app--9qhrHDG.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ke={class:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100"},We={class:"bg-medieval-dark text-medieval-gold shadow-lg"},Ge={class:"container mx-auto px-4 py-4"},Je={class:"flex justify-between items-center"},Ue={class:"flex-1 flex justify-end space-x-4"},Qe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-1 sm:p-4"},Ye={class:"bg-white rounded-lg shadow-2xl max-w-6xl w-full h-[98vh] sm:h-[90vh] flex flex-col"},Ze={class:"p-1 sm:p-4 flex-1 flex flex-col overflow-hidden"},et={class:"mb-2"},tt={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 sm:gap-2"},st={class:"bg-gray-50 rounded-lg p-2 sm:p-3"},at={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},lt={class:"flex items-center space-x-1 sm:space-x-2"},ot={class:"flex-1 space-y-1"},nt={class:"flex justify-between text-xs mb-1"},rt={class:"text-red-600 font-semibold text-xs"},it={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},dt={class:"flex justify-between text-xs mb-1"},ct={class:"text-blue-600 font-semibold text-xs"},ut={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},mt={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},vt={class:"flex justify-between"},xt={class:"font-semibold text-medieval-gold"},ft={class:"flex justify-between"},bt={class:"font-semibold text-green-600"},ht={class:"bg-red-50 rounded-lg p-2 sm:p-3"},pt={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},_t={class:"flex items-center space-x-1 sm:space-x-2"},gt={class:"flex-shrink-0"},yt=["src","alt"],wt={key:1,class:"w-10 h-10 sm:w-14 sm:h-14 bg-gray-300 rounded-lg flex items-center justify-center text-lg sm:text-xl"},kt={class:"flex-1 space-y-1"},jt={class:"flex justify-between text-xs mb-1"},Et={class:"text-red-600 font-semibold text-xs"},Tt={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},St={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},$t={class:"flex justify-between"},Ct={class:"font-semibold text-medieval-gold"},At={class:"flex justify-between"},Pt={class:"font-semibold text-orange-600"},Ot={class:"flex justify-between"},qt={class:"font-semibold text-blue-600"},Bt={class:"flex justify-between"},Nt={class:"font-semibold text-green-600"},Ft={class:"mb-1 sm:mb-2 flex-1 flex flex-col min-h-0 max-h-32 sm:max-h-48"},Ht={class:"bg-gray-900 text-green-400 p-2 sm:p-4 rounded-lg flex-1 overflow-y-auto font-mono text-xs sm:text-sm battle-log min-h-0"},Rt={key:0,class:"text-gray-500"},Vt={key:0,class:"border-t border-gray-200 pt-1 sm:pt-2"},Xt={class:"text-center"},Dt={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-1 sm:p-2 mb-2 sm:mb-3"},It={key:1,class:"flex items-center justify-center mb-2 sm:mb-3"},Mt={class:"flex items-center space-x-1 sm:space-x-2 cursor-pointer"},Lt={class:"flex flex-row justify-center gap-1 sm:gap-2"},zt=["disabled"],Kt=["disabled"],Wt={key:1,class:"border-t border-gray-200 pt-3 sm:pt-4"},Gt={class:"text-center"},Jt={class:"text-base sm:text-lg text-medieval mb-3 sm:mb-4 font-semibold"},Ut={key:0,class:"bg-green-50 border border-green-200 p-2 sm:p-4 rounded-lg mb-3 sm:mb-4"},Qt={class:"flex justify-center space-x-4 sm:space-x-6 text-xs sm:text-sm"},Yt={class:"text-yellow-600 font-semibold"},Zt={class:"text-blue-600 font-semibold"},es={key:2,class:"border-t border-medieval-bronze pt-3"},ts={class:"flex flex-col sm:flex-row gap-3"},ss={class:"flex-1"},as={class:"flex justify-center gap-1 sm:gap-2"},ls=["data-slot","onClick","disabled"],os={key:0,class:"flex flex-col items-center justify-center h-full"},ns=["src","alt"],rs={class:"text-xs text-medieval font-semibold"},is={class:"text-xs text-medieval-gold font-semibold"},ds={key:1,class:"flex flex-col items-center justify-center h-full"},cs={class:"text-medieval-stone text-xs font-semibold"},us={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap"},ms={class:"font-semibold text-medieval-gold mb-1"},vs={class:"text-gray-400 mt-1"},xs={key:0,class:"fixed top-4 right-4 z-50 animate-fade-in"},fs={class:"flex items-center space-x-3"},bs={class:"text-xl"},hs={key:0},ps={key:1},_s={key:2},gs={class:"flex-1"},ys={class:"text-sm font-semibold text-medieval-dark"},ws={class:"flex-1 p-4"},ks={class:"max-w-6xl mx-auto"},js={class:"card-medieval mb-6"},Es={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ts={class:"text-center"},Ss={class:"font-semibold text-medieval"},$s={class:"text-sm text-medieval-stone"},Cs={class:"text-center"},As={class:"font-semibold text-red-600"},Ps={class:"text-center"},Os={class:"font-semibold text-blue-600"},qs={class:"card-medieval"},Bs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ns={class:"mb-2 flex justify-center"},Fs=["src","alt"],Hs={key:1,class:"text-4xl"},Rs={class:"font-semibold text-lg text-medieval text-center mb-2"},Vs={class:"text-sm text-medieval-stone text-center mb-3"},Xs={class:"space-y-1 text-xs text-medieval mb-4"},Ds={class:"flex justify-between"},Is={class:"font-semibold text-medieval-gold"},Ms={class:"flex justify-between"},Ls={class:"font-semibold text-red-600"},zs={class:"flex justify-between"},Ks={class:"font-semibold text-orange-600"},Ws={class:"flex justify-between"},Gs={class:"font-semibold text-blue-600"},Js={class:"flex justify-between"},Us={class:"font-semibold text-green-600"},Qs={class:"bg-gray-50 p-2 rounded mb-3"},Ys={class:"text-xs text-center space-y-1"},Zs={class:"flex justify-between"},ea={class:"font-semibold"},ta={class:"flex justify-between"},sa={class:"font-semibold"},aa={class:"flex justify-between"},la={class:"font-semibold"},oa=["onClick","disabled"],na={__name:"Index",props:{character:Object,monsters:Array},setup(f){const T=f,S=qe(),q=b(!1),u=b(null),$=b(null),y=b([]),h=b(!1),w=b(null),x=b(!1),_=b(!1),j=b(null),v=b([null,null,null,null]),C=b(!1),F=b(""),E=b("success"),c=b({...T.character});console.log("Props character inicial:",T.character),console.log("CharacterData inicial:",c.value);const H=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),$e=s=>{switch(s.effect_type){case"heal_hp":return`+${s.effect_value} HP`;case"restore_stamina":return`+${s.effect_value} Stamina`;case"restore_mp":return`+${s.effect_value} MP`;case"buff_strength":return`+${s.effect_value} Força`;case"buff_dexterity":return`+${s.effect_value} Destreza`;case"buff_constitution":return`+${s.effect_value} Constituição`;case"buff_intelligence":return`+${s.effect_value} Inteligência`;case"buff_luck":return`+${s.effect_value} Sorte`;default:return`${s.effect_type}: +${s.effect_value}`}},B=(s,t="success")=>{F.value=s,E.value=t,C.value=!0,setTimeout(()=>{C.value=!1},3e3)},R=async()=>{try{const s=await fetch("/api/items/hotkeys",{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(s.ok){const t=await s.json();if(console.log("Hotkeys recebidos na batalha:",t.hotkeys),t.success&&t.hotkeys){const n=[null,null,null,null];for(let l=1;l<=4;l++)t.hotkeys[l]&&(n[l-1]=t.hotkeys[l]);v.value=n,console.log("Hotkeys processados na batalha:",v.value)}else v.value=[null,null,null,null]}}catch(s){console.error("Erro ao carregar hotkeys:",s),v.value=[null,null,null,null]}},V=async s=>{var t;if(!(!v.value[s-1]||x.value)){v.value[s-1];try{const n=await fetch("/api/items/use-hotkey",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":S.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({slot:s})});if(n.ok){const l=await n.json();if(l.success){l.character&&(c.value={...c.value,...l.character},Object.keys(l.character).forEach(g=>{T.character[g]=l.character[g]})),await Le(),await R(),m(`🧪 ${l.message}`),B(l.message,"success");const d=document.querySelector(`[data-slot="${s}"]`);d&&(d.classList.add("animate-pulse","bg-green-100","border-green-400"),setTimeout(()=>{d.classList.remove("animate-pulse","bg-green-100","border-green-400")},1e3))}else m(`❌ ${l.message}`),B(l.message,"error")}}catch{m("❌ Erro ao usar poção"),B("Erro ao usar poção","error")}}},X=async s=>{var t;try{const n=S.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",l=await fetch(route("battle.start"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":n,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({monster_id:s.id})});if(!l.ok){const g=await l.json();if(console.error("Erro ao iniciar batalha:",g),g.error){m(`❌ ${g.error}`);return}throw new Error(`HTTP error! status: ${l.status}`)}const d=await l.json();Object.assign(T.character,d.character),Object.assign(c.value,d.character),u.value=d.monster,$.value=d.battle_instance_id,q.value=!0,y.value=[],h.value=!1,w.value=null,x.value=!1,console.log("Battle setup:",{battle_instance_id:d.battle_instance_id,monster_hp:d.monster.current_hp,is_continuing:d.is_continuing_battle}),d.is_continuing_battle?m(`Continuando batalha contra ${s.name}! (HP: ${d.monster.current_hp}/${d.monster.max_hp})`):m(`Batalha iniciada contra ${s.name}!`)}catch(n){console.error("Erro ao iniciar batalha:",n),m("❌ Erro ao iniciar batalha!")}},D=()=>{A(),q.value=!1,u.value=null,$.value=null,y.value=[],h.value=!1,w.value=null,x.value=!1,_.value=!1},Ce=async()=>{u.value&&await X(u.value)},m=s=>{y.value.push(`[${new Date().toLocaleTimeString()}] ${s}`),y.value.length>20&&(y.value=y.value.slice(-20)),setTimeout(()=>{const t=document.querySelector(".battle-log");t&&(t.scrollTop=t.scrollHeight)},100)},Ae=()=>{_.value?Pe():A()},Pe=()=>{j.value&&clearInterval(j.value),m("🤖 Batalha automática ativada!"),j.value=setInterval(()=>{var s;!h.value&&!x.value&&(((s=c.value)==null?void 0:s.current_hp)||0)>0?I():h.value&&A()},3e3)},A=()=>{j.value&&(clearInterval(j.value),j.value=null),_.value&&(m("⏹️ Batalha automática desativada!"),_.value=!1)},I=async()=>{var s;if(!(x.value||!u.value)){x.value=!0,m("Você atacou!");try{const t=S.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",n=await fetch(route("battle.attack"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:$.value})});if(!n.ok){const d=await n.json();if(console.error("Erro na resposta:",d),d.error&&d.error.includes("Stamina insuficiente")){m(`❌ ${d.error}`);return}throw new Error(`HTTP error! status: ${n.status} - ${d.error||"Erro desconhecido"}`)}const l=await n.json();console.log("Dados recebidos:",l),Object.assign(T.character,l.character),Object.assign(c.value,l.character),Object.assign(u.value,l.monster),l.attack_result&&m(l.attack_result.message),l.monster_attack_result&&m(l.monster_attack_result.message),l.battle_over&&(h.value=!0,w.value=l.result,_.value=!1,l.result.winner==="character"?m(`[VITÓRIA] Você derrotou o monstro! Ganhou ${l.result.gold_reward} gold e ${l.result.exp_reward} EXP!`):l.result.winner==="monster"?m("[DERROTA] Você foi derrotado pelo monstro!"):l.result.winner==="fled"&&m("[FUGA] Você fugiu da batalha!"))}catch(t){console.error("Erro ao atacar:",t),m("❌ Erro ao executar ataque!")}finally{x.value=!1}}},Oe=async()=>{var s;if(!x.value){x.value=!0;try{const t=S.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",n=await fetch(route("battle.flee"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:$.value})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const l=await n.json();h.value=!0,w.value=l.result,m(l.result.message)}catch(t){console.error("Erro ao fugir:",t),m("❌ Erro ao tentar fugir!")}finally{x.value=!1}}},M=s=>{s.target.style.display="none";const t=s.target.nextElementSibling;t&&(t.style.display="flex")},L=s=>{if(h.value||x.value)return;const t=s.key;let n=null;switch(t){case"F1":n=1;break;case"F2":n=2;break;case"F3":n=3;break;case"F4":n=4;break;default:return}s.preventDefault(),v.value[n-1]&&V(n)};return Be(()=>{R(),document.addEventListener("keydown",L)}),Ne(()=>{A(),document.removeEventListener("keydown",L)}),(s,t)=>{var n,l,d,g,z,K,W,G,J,U,Q,Y,Z,ee,te,se,ae,le,oe,ne,re,ie,de,ce,ue,me,ve,xe,fe,be,he,pe,_e,ge,ye;return i(),r("div",Ke,[e("header",We,[e("div",Ge,[e("div",Je,[t[3]||(t[3]=e("div",{class:"flex-1"},[e("h1",{class:"text-2xl font-bold title-medieval"},"Chronicles of Eldoria")],-1)),t[4]||(t[4]=e("div",{class:"flex-1 text-center"},[e("h2",{class:"text-lg font-medieval"},"Arena de Batalha")],-1)),e("div",Ue,[Fe(Ve(Xe),{href:s.route("dashboard"),class:"btn-medieval text-sm px-4 py-2 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark"},{default:He(()=>[...t[2]||(t[2]=[Re(" Voltar ao Dashboard ",-1)])]),_:1},8,["href"])])])])]),q.value?(i(),r("div",Qe,[e("div",Ye,[e("div",{class:"bg-medieval-dark text-medieval-gold p-2 rounded-t-lg"},[e("div",{class:"flex justify-between items-center"},[t[5]||(t[5]=e("h3",{class:"text-sm font-bold title-medieval"},"Combate",-1)),e("button",{onClick:D,class:"text-medieval-gold hover:text-white text-lg p-1"}," × ")])]),e("div",Ze,[e("div",et,[e("div",tt,[e("div",st,[e("h4",at,a((n=c.value)==null?void 0:n.name),1),e("div",lt,[t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 sm:w-14 sm:h-14 bg-medieval-bronze rounded-lg flex items-center justify-center text-lg sm:text-xl"}," ⚔️ ")],-1)),e("div",ot,[e("div",null,[e("div",nt,[t[6]||(t[6]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",rt,a((l=c.value)==null?void 0:l.current_hp)+"/"+a((d=c.value)==null?void 0:d.max_hp),1)]),e("div",it,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:N({width:(g=c.value)!=null&&g.max_hp?`${(((z=c.value)==null?void 0:z.current_hp)||0)/c.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",null,[e("div",dt,[t[7]||(t[7]=e("span",{class:"text-medieval"},"Stamina:",-1)),e("span",ct,a((K=c.value)==null?void 0:K.current_stamina)+"/"+a((W=c.value)==null?void 0:W.max_stamina),1)]),e("div",ut,[e("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:N({width:(G=c.value)!=null&&G.max_stamina?`${(((J=c.value)==null?void 0:J.current_stamina)||0)/c.value.max_stamina*100}%`:"0%"})},null,4)])]),e("div",mt,[e("div",vt,[t[8]||(t[8]=e("span",null,"Nível:",-1)),e("span",xt,a((U=c.value)==null?void 0:U.level),1)]),e("div",ft,[t[9]||(t[9]=e("span",null,"Poder:",-1)),e("span",bt,a((Q=c.value)==null?void 0:Q.power),1)])])])])]),e("div",ht,[e("h4",pt,a((Y=u.value)==null?void 0:Y.name),1),e("div",_t,[e("div",gt,[(Z=u.value)!=null&&Z.image_path?(i(),r("img",{key:0,src:u.value.image_path,alt:u.value.name,class:"w-10 h-10 sm:w-14 sm:h-14 object-contain",onError:M},null,40,yt)):(i(),r("div",wt,a((ee=u.value)==null?void 0:ee.image),1))]),e("div",kt,[e("div",null,[e("div",jt,[t[11]||(t[11]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",Et,a((te=u.value)==null?void 0:te.current_hp)+"/"+a((se=u.value)==null?void 0:se.max_hp),1)]),e("div",Tt,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:N({width:(ae=u.value)!=null&&ae.max_hp?`${(((le=u.value)==null?void 0:le.current_hp)||0)/u.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",St,[e("div",$t,[t[12]||(t[12]=e("span",null,"Nível:",-1)),e("span",Ct,a((oe=u.value)==null?void 0:oe.level),1)]),e("div",At,[t[13]||(t[13]=e("span",null,"Ataque:",-1)),e("span",Pt,a((ne=u.value)==null?void 0:ne.attack_power),1)]),e("div",Ot,[t[14]||(t[14]=e("span",null,"Defesa:",-1)),e("span",qt,a((re=u.value)==null?void 0:re.defense),1)]),e("div",Bt,[t[15]||(t[15]=e("span",null,"Velocidade:",-1)),e("span",Nt,a((ie=u.value)==null?void 0:ie.speed),1)])])])])])])]),e("div",Ft,[t[16]||(t[16]=e("h3",{class:"text-xs sm:text-sm subtitle-medieval mb-1 sm:mb-2 text-medieval-gold"},"Log de Combate",-1)),e("div",Ht,[(i(!0),r(P,null,O(y.value,(o,k)=>(i(),r("div",{key:k,class:"mb-1 break-words"},a(o),1))),128)),y.value.length===0?(i(),r("div",Rt," A batalha começou! Escolha sua ação... ")):p("",!0)])]),h.value?p("",!0):(i(),r("div",Vt,[e("div",Xt,[t[19]||(t[19]=e("h3",{class:"text-xs subtitle-medieval mb-1 text-medieval-gold"},"Escolha sua Ação",-1)),(((de=c.value)==null?void 0:de.current_hp)||0)<=0?(i(),r("div",Dt,[...t[17]||(t[17]=[e("p",{class:"text-xs text-red-800"}," 💀 Você está morto! Precisa ser revivido para batalhar. ",-1)])])):p("",!0),(((ce=c.value)==null?void 0:ce.current_hp)||0)>0?(i(),r("div",It,[e("label",Mt,[De(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=o=>_.value=o),onChange:Ae,class:"w-3 h-3 sm:w-4 sm:h-4 text-medieval-gold bg-gray-100 border-gray-300 rounded focus:ring-medieval-gold focus:ring-2"},null,544),[[Ie,_.value]]),t[18]||(t[18]=e("span",{class:"text-xs text-medieval font-medium"},"Batalha Automática",-1))])])):p("",!0),e("div",Lt,[e("button",{onClick:I,disabled:x.value||(((ue=c.value)==null?void 0:ue.current_hp)||0)<=0||_.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"},a(x.value?"Atacando...":_.value?"🤖 Automático":"Atacar"),9,zt),e("button",{onClick:Oe,disabled:x.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"}," Fugir ",8,Kt)])])])),t[25]||(t[25]=e("div",{class:"mb-1 sm:mb-3"},null,-1)),h.value?(i(),r("div",Wt,[e("div",Gt,[e("p",Jt,a((me=w.value)==null?void 0:me.message),1),((ve=w.value)==null?void 0:ve.winner)==="character"?(i(),r("div",Ut,[t[20]||(t[20]=e("h4",{class:"font-bold text-green-800 mb-2 text-sm sm:text-base"},"Recompensas Obtidas:",-1)),e("div",Qt,[e("span",Yt,"🪙 +"+a(((xe=w.value)==null?void 0:xe.gold_reward)||0)+" Gold",1),e("span",Zt,"⭐ +"+a(((fe=w.value)==null?void 0:fe.exp_reward)||0)+" EXP",1)])])):p("",!0),e("div",{class:"flex flex-col sm:flex-row justify-center gap-2"},[e("button",{onClick:Ce,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold transform hover:scale-105 transition-transform"}," Batalhar Novamente "),e("button",{onClick:D,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark transform hover:scale-105 transition-transform"}," Fechar ")])])])):p("",!0),h.value?p("",!0):(i(),r("div",es,[e("div",ts,[e("div",ss,[t[23]||(t[23]=e("h3",{class:"text-sm subtitle-medieval mb-2 text-medieval-gold text-center"},"Poções",-1)),e("div",as,[(i(),r(P,null,O(4,o=>e("div",{key:o,class:"relative group"},[e("button",{"data-slot":o,onClick:k=>V(o),disabled:x.value||!v.value[o-1],class:Se(["bg-white rounded-lg border-2 border-medieval-bronze w-14 h-14 sm:w-20 sm:h-20 flex flex-col items-center justify-center hover:bg-amber-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{"border-medieval-gold bg-medieval-bronze shadow-md":v.value[o-1],"border-medieval-bronze bg-white":!v.value[o-1]}])},[v.value[o-1]?(i(),r("div",os,[e("img",{src:v.value[o-1].item.image_path,alt:v.value[o-1].item.name,class:"w-6 h-6 sm:w-8 sm:h-8 mb-1"},null,8,ns),e("span",rs,a(v.value[o-1].quantity)+"x",1),e("div",is,"[F"+a(o)+"]",1)])):(i(),r("div",ds,[e("span",cs,"F"+a(o),1),t[21]||(t[21]=e("span",{class:"text-medieval-stone text-xs font-semibold"},"Vazio",-1))]))],10,ls),v.value[o-1]?(i(),r("div",us,[e("div",ms,a(v.value[o-1].item.name),1),(i(!0),r(P,null,O(v.value[o-1].item.effects,k=>(i(),r("div",{key:k.id,class:"text-green-400"},a($e(k)),1))),128)),e("div",vs,"Quantidade: "+a(v.value[o-1].quantity),1),t[22]||(t[22]=e("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"},null,-1))])):p("",!0)])),64))])]),t[24]||(t[24]=Me('<div class="flex-1" data-v-927c33c1><h3 class="text-sm subtitle-medieval mb-2 text-medieval-gold text-center" data-v-927c33c1>Habilidades</h3><div class="flex justify-center" data-v-927c33c1><div class="bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-2 sm:p-3 text-center opacity-75 h-12 sm:h-16 flex items-center justify-center w-full max-w-xs" data-v-927c33c1><div class="text-gray-500" data-v-927c33c1><div class="text-sm sm:text-lg mb-1" data-v-927c33c1>🚧</div><div class="font-medium text-xs sm:text-sm" data-v-927c33c1>Em Breve</div></div></div></div></div>',1))])]))])]),C.value?(i(),r("div",xs,[e("div",{class:Se(["card-medieval p-3 max-w-sm",{"border-green-500 bg-green-50":E.value==="success","border-red-500 bg-red-50":E.value==="error","border-blue-500 bg-blue-50":E.value==="info"}])},[e("div",fs,[e("div",bs,[E.value==="success"?(i(),r("span",hs,"🧪")):E.value==="error"?(i(),r("span",ps,"❌")):(i(),r("span",_s,"ℹ️"))]),e("div",gs,[e("p",ys,a(F.value),1)]),e("button",{onClick:t[1]||(t[1]=o=>C.value=!1),class:"text-medieval-stone hover:text-medieval-dark"}," × ")])],2)])):p("",!0)])):p("",!0),e("main",ws,[e("div",ks,[e("div",js,[t[31]||(t[31]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Seu Personagem",-1)),e("div",Es,[e("div",Ts,[t[26]||(t[26]=e("div",{class:"text-2xl mb-2"},"⚔️",-1)),e("h4",Ss,a((be=f.character)==null?void 0:be.name),1),e("p",$s,"Nível "+a((he=f.character)==null?void 0:he.level),1)]),e("div",Cs,[t[27]||(t[27]=e("div",{class:"text-2xl mb-2"},"❤️",-1)),e("h4",As,a((pe=f.character)==null?void 0:pe.current_hp)+"/"+a((_e=f.character)==null?void 0:_e.max_hp),1),t[28]||(t[28]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Vida",-1))]),e("div",Ps,[t[29]||(t[29]=e("div",{class:"text-2xl mb-2"},"⚡",-1)),e("h4",Os,a((ge=f.character)==null?void 0:ge.current_stamina)+"/"+a((ye=f.character)==null?void 0:ye.max_stamina),1),t[30]||(t[30]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Stamina",-1))])])]),e("div",qs,[t[40]||(t[40]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Escolha seu Oponente",-1)),e("div",Bs,[(i(!0),r(P,null,O(f.monsters,o=>{var k,we,ke,je,Ee,Te;return i(),r("div",{key:o.id,class:"bg-white rounded-lg border-2 border-gray-200 p-4 hover:border-medieval-gold transition-colors"},[e("div",Ns,[o.image_path?(i(),r("img",{key:0,src:o.image_path,alt:o.name,class:"w-16 h-16 object-contain",onError:M},null,40,Fs)):(i(),r("div",Hs,a(o.image),1))]),e("h4",Rs,a(o.name),1),e("p",Vs,a(o.description),1),e("div",Xs,[e("div",Ds,[t[32]||(t[32]=e("span",null,"Nível:",-1)),e("span",Is,a(o.level),1)]),e("div",Ms,[t[33]||(t[33]=e("span",null,"HP:",-1)),e("span",Ls,a(o.max_hp),1)]),e("div",zs,[t[34]||(t[34]=e("span",null,"Ataque:",-1)),e("span",Ks,a(o.attack_power),1)]),e("div",Ws,[t[35]||(t[35]=e("span",null,"Defesa:",-1)),e("span",Gs,a(o.defense),1)]),e("div",Js,[t[36]||(t[36]=e("span",null,"Velocidade:",-1)),e("span",Us,a(o.speed),1)])]),e("div",Qs,[e("div",Ys,[e("div",Zs,[t[37]||(t[37]=e("span",{class:"text-yellow-600"},"🪙 Gold:",-1)),e("span",ea,a(H(o.gold_reward)),1)]),e("div",ta,[t[38]||(t[38]=e("span",{class:"text-blue-600"},"⭐ EXP:",-1)),e("span",sa,a(H(o.exp_reward)),1)]),e("div",aa,[t[39]||(t[39]=e("span",{class:"text-purple-600"},"⚡ Stamina:",-1)),e("span",la,a(o.stamina_cost||10),1)])])]),e("button",{onClick:ra=>X(o),disabled:o.level>(((k=f.character)==null?void 0:k.level)||0)+2||(((we=f.character)==null?void 0:we.current_stamina)||0)<(o.stamina_cost||10)||(((ke=f.character)==null?void 0:ke.current_hp)||0)<=0,class:"w-full btn-medieval text-sm py-2 disabled:opacity-50 disabled:cursor-not-allowed"},a(o.level>(((je=f.character)==null?void 0:je.level)||0)+2?"Muito Forte":(((Ee=f.character)==null?void 0:Ee.current_hp)||0)<=0?"Morto":(((Te=f.character)==null?void 0:Te.current_stamina)||0)<(o.stamina_cost||10)?"Sem Stamina":"Batalhar"),9,oa)])}),128))])])])]),t[41]||(t[41]=e("footer",{class:"bg-medieval-dark text-medieval-stone text-center py-4"},[e("p",null,"© 2025 Chronicles of Eldoria. Todos os direitos reservados.")],-1))])}}},ca=ze(na,[["__scopeId","data-v-927c33c1"]]);export{ca as default};
