import{m as b,p as O,g as B,o as a,w as v,b as e,c as n,e as y,a as w,d as r,u as p,l as x,j as h,v as T,F as k,r as _,t as u,k as N,n as m,x as U,q as F}from"./app-BAeMEX1w.js";import{_ as M}from"./AdminLayout-DUtxSjzB.js";const R={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"mb-8"},E={class:"flex justify-between items-center"},G={class:"card-medieval mb-6"},H={class:"p-6"},I={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},q=["value"],P={class:"card-medieval"},J={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200"},Q={class:"bg-gray-50"},W={class:"bg-white divide-y divide-gray-200"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"flex items-center"},Z={class:"flex-shrink-0 h-10 w-10"},ee={class:"ml-4"},se={class:"text-sm font-medium text-gray-900"},te={class:"text-sm text-gray-500"},le={class:"px-6 py-4 whitespace-nowrap"},re={class:"px-6 py-4 whitespace-nowrap"},ae={class:"text-sm text-gray-900"},oe={class:"px-6 py-4 whitespace-nowrap"},ie={class:"text-sm text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap"},de={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ue={class:"flex items-center space-x-2"},me={key:0,class:"card-medieval"},fe={class:"text-center py-12"},ce={key:1,class:"mt-6"},ve={class:"flex justify-center"},pe={class:"flex space-x-1"},ye={__name:"Index",props:{roles:Object,filters:Object,levels:Array},setup(d){var C,V,S,j;const g=d,f=b(((C=g.filters)==null?void 0:C.search)||""),c=b(((V=g.filters)==null?void 0:V.filter_level)||""),i=b(((S=g.filters)==null?void 0:S.sort_by)||"level"),o=b(((j=g.filters)==null?void 0:j.sort_order)||"asc");O([f,c,i,o],()=>{const l={};f.value&&(l.search=f.value),c.value&&(l.filter_level=c.value),i.value&&(l.sort_by=i.value),o.value&&(l.sort_order=o.value),F.get(route("admin.roles.index"),l,{preserveState:!0,replace:!0})},{deep:!0});const z=l=>{i.value===l?o.value=o.value==="asc"?"desc":"asc":(i.value=l,o.value="asc")},D=l=>l>=90?"bg-red-100 text-red-800":l>=70?"bg-orange-100 text-orange-800":l>=50?"bg-yellow-100 text-yellow-800":l>=30?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",L=l=>l?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return(l,s)=>(a(),B(M,null,{default:v(()=>[e("div",R,[e("div",A,[e("div",$,[e("div",E,[s[7]||(s[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-medieval-bronze mb-2"},[e("i",{class:"fas fa-user-shield mr-3"}),r(" Gerenciamento de Roles ")]),e("p",{class:"text-gray-600"},"Gerencie os grupos de usuários e suas permissões")],-1)),w(p(x),{href:l.route("admin.roles.create"),class:"btn-medieval bg-medieval-gold hover:bg-medieval-bronze text-white"},{default:v(()=>[...s[6]||(s[6]=[e("i",{class:"fas fa-plus mr-2"},null,-1),r(" Novo Role ",-1)])]),_:1},8,["href"])])]),e("div",G,[e("div",H,[e("div",I,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-search mr-1"}),r(" Buscar ")],-1)),h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),type:"text",placeholder:"Nome, display name ou descrição...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},null,512),[[T,f.value]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-layer-group mr-1"}),r(" Nível ")],-1)),h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>c.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[s[9]||(s[9]=e("option",{value:""},"Todos os níveis",-1)),(a(!0),n(k,null,_(d.levels,t=>(a(),n("option",{key:t,value:t}," Nível "+u(t),9,q))),128))],512),[[N,c.value]])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-sort mr-1"}),r(" Ordenar por ")],-1)),h(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[...s[11]||(s[11]=[e("option",{value:"level"},"Nível",-1),e("option",{value:"name"},"Nome",-1),e("option",{value:"display_name"},"Display Name",-1),e("option",{value:"created_at"},"Data de Criação",-1)])],512),[[N,i.value]])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-sort-alpha-down mr-1"}),r(" Ordem ")],-1)),h(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[...s[13]||(s[13]=[e("option",{value:"asc"},"Crescente",-1),e("option",{value:"desc"},"Decrescente",-1)])],512),[[N,o.value]])])])])]),e("div",P,[e("div",J,[e("table",K,[e("thead",Q,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-amber-100",onClick:s[4]||(s[4]=t=>z("name"))},[s[15]||(s[15]=e("i",{class:"fas fa-user-shield mr-1"},null,-1)),s[16]||(s[16]=r(" Role ",-1)),i.value==="name"?(a(),n("i",{key:0,class:m([o.value==="asc"?"fas fa-sort-up":"fas fa-sort-down","ml-1"])},null,2)):y("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-amber-100",onClick:s[5]||(s[5]=t=>z("level"))},[s[17]||(s[17]=e("i",{class:"fas fa-layer-group mr-1"},null,-1)),s[18]||(s[18]=r(" Nível ",-1)),i.value==="level"?(a(),n("i",{key:0,class:m([o.value==="asc"?"fas fa-sort-up":"fas fa-sort-down","ml-1"])},null,2)):y("",!0)]),s[19]||(s[19]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-users mr-1"}),r(" Usuários ")],-1)),s[20]||(s[20]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-key mr-1"}),r(" Permissões ")],-1)),s[21]||(s[21]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-info-circle mr-1"}),r(" Status ")],-1)),s[22]||(s[22]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-cogs mr-1"}),r(" Ações ")],-1))])]),e("tbody",W,[(a(!0),n(k,null,_(d.roles.data||[],t=>(a(),n("tr",{key:t.id,class:"hover:bg-amber-50"},[e("td",X,[e("div",Y,[e("div",Z,[e("div",{class:"h-10 w-10 rounded-full flex items-center justify-center",style:U({backgroundColor:t.color+"20",color:t.color})},[e("i",{class:m(t.icon||"fas fa-user-shield")},null,2)],4)]),e("div",ee,[e("div",se,u(t.display_name),1),e("div",te,u(t.name),1)])])]),e("td",le,[e("span",{class:m([D(t.level),"px-2 py-1 text-xs rounded-full"])}," Nível "+u(t.level),3)]),e("td",re,[e("div",ae,u(t.users_count||0),1)]),e("td",oe,[e("div",ie,u(t.permissions_count||0),1)]),e("td",ne,[e("span",{class:m([L(t.is_active),"px-2 py-1 text-xs rounded-full"])},u(t.is_active?"Ativo":"Inativo"),3)]),e("td",de,[e("div",ue,[w(p(x),{href:l.route("admin.roles.show",t.id),class:"text-medieval-bronze hover:text-medieval-gold",title:"Ver detalhes"},{default:v(()=>[...s[23]||(s[23]=[e("i",{class:"fas fa-eye"},null,-1)])]),_:1},8,["href"]),w(p(x),{href:l.route("admin.roles.edit",t.id),class:"text-blue-600 hover:text-blue-900",title:"Editar"},{default:v(()=>[...s[24]||(s[24]=[e("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"])])])]))),128))])])])]),!d.roles.data||d.roles.data.length===0?(a(),n("div",me,[e("div",fe,[s[26]||(s[26]=e("i",{class:"fas fa-user-shield text-gray-400 text-6xl mb-4"},null,-1)),s[27]||(s[27]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhum role encontrado",-1)),s[28]||(s[28]=e("p",{class:"text-gray-500 mb-4"},"Comece criando seu primeiro role.",-1)),w(p(x),{href:l.route("admin.roles.create"),class:"btn-medieval bg-medieval-gold hover:bg-medieval-bronze text-white"},{default:v(()=>[...s[25]||(s[25]=[e("i",{class:"fas fa-plus mr-2"},null,-1),r(" Criar Role ",-1)])]),_:1},8,["href"])])])):y("",!0),d.roles.links&&d.roles.links.length>1?(a(),n("div",ce,[e("nav",ve,[e("div",pe,[(a(!0),n(k,null,_(d.roles.links,t=>(a(),B(p(x),{key:t.label,href:t.url||"#",innerHTML:t.label,class:m(["px-3 py-2 text-sm border rounded-md",t.active?"bg-medieval-bronze text-white border-medieval-bronze":"bg-white text-gray-700 border-gray-300 hover:bg-amber-50",t.url?"hover:border-medieval-bronze":"opacity-50 cursor-not-allowed"])},null,8,["href","innerHTML","class"]))),128))])])])):y("",!0)])])]),_:1}))}};export{ye as default};
