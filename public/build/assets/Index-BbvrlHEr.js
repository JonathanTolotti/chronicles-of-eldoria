import{m as x,p as A,q as L,c as r,o as a,a as b,u as w,h as O,w as k,b as e,d as o,l as V,j as _,v as P,F as h,r as S,t as d,k as U,e as y,n as z,x as G,g as R}from"./app-BAeMEX1w.js";import{_ as $}from"./AdminLayout-DUtxSjzB.js";const E={class:"py-6 dashboard-admin"},H={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},q={class:"mb-8"},J={class:"flex items-center justify-between"},K={class:"card-medieval mb-6"},Q={class:"p-6"},W={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},X=["value"],Y={class:"card-medieval"},Z={class:"overflow-x-auto"},ee={class:"min-w-full divide-y divide-gray-200"},se={class:"bg-gray-50"},te={class:"bg-white divide-y divide-gray-200"},le={class:"px-6 py-4 whitespace-nowrap"},ae={class:"flex items-center"},oe={class:"flex-shrink-0 h-10 w-10"},re={class:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center"},ie={class:"text-white text-sm font-bold"},ne={class:"ml-4"},de={class:"text-sm font-medium text-gray-900"},ue={class:"text-sm text-gray-500"},fe={class:"px-6 py-4 whitespace-nowrap"},me={class:"flex flex-wrap gap-1"},pe={key:0,class:"text-gray-400 text-sm"},ce={class:"px-6 py-4 whitespace-nowrap"},ve={class:"flex flex-wrap gap-1"},xe={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800"},ye={key:1,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},ge={key:2,class:"text-gray-400 text-sm"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},we={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},_e={class:"flex space-x-2"},he={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},ke={class:"flex items-center justify-between"},Ve={class:"text-sm text-gray-700"},Se={class:"flex space-x-2"},Te={__name:"Index",props:{users:Object,roles:Array,filters:Object},setup(u){var B,j,F,D,I,M;const p=u,c=x(((B=p.filters)==null?void 0:B.search)||""),v=x(((j=p.filters)==null?void 0:j.role)||""),f=x(((F=p.filters)==null?void 0:F.is_staff)||""),m=x(((D=p.filters)==null?void 0:D.is_vip)||""),i=x(((I=p.filters)==null?void 0:I.sort_by)||"created_at"),n=x(((M=p.filters)==null?void 0:M.sort_order)||"desc");let T;A(c,l=>{clearTimeout(T),T=setTimeout(()=>{C()},300)}),A([v,f,m,i,n],()=>{C()});function C(){const l={};c.value&&c.value.trim()!==""&&(l.search=c.value.trim()),v.value&&v.value!==""&&(l.role=v.value),f.value!==""&&f.value!==null&&f.value!==void 0&&(l.is_staff=f.value),m.value!==""&&m.value!==null&&m.value!==void 0&&(l.is_vip=m.value),i.value&&i.value!==""&&(l.sort_by=i.value),n.value&&n.value!==""&&(l.sort_order=n.value),L.get(route("admin.users.index"),l,{preserveState:!0,replace:!0})}function N(l){i.value===l?n.value=n.value==="asc"?"desc":"asc":(i.value=l,n.value="asc")}return(l,s)=>(a(),r(h,null,[b(w(O),{title:"Gerenciar Usuários"}),b($,null,{default:k(()=>[e("div",E,[e("div",H,[e("div",q,[e("div",J,[s[8]||(s[8]=e("div",null,[e("h1",{class:"text-3xl font-bold text-medieval-bronze"},[e("i",{class:"fas fa-users mr-3"}),o(" Gerenciar Usuários ")]),e("p",{class:"mt-2 text-gray-600"}," Gerencie usuários, roles e permissões do sistema ")],-1)),b(w(V),{href:l.route("admin.users.create"),class:"btn-medieval"},{default:k(()=>[...s[7]||(s[7]=[e("i",{class:"fas fa-plus mr-2"},null,-1),o(" Novo Usuário ",-1)])]),_:1},8,["href"])])]),e("div",K,[e("div",Q,[e("div",W,[e("div",null,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-search mr-1"}),o(" Buscar ")],-1)),_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>c.value=t),type:"text",placeholder:"Nome ou email...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},null,512),[[P,c.value]])]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-user-tag mr-1"}),o(" Role ")],-1)),_(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>v.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[s[10]||(s[10]=e("option",{value:""},"Todos os roles",-1)),(a(!0),r(h,null,S(u.roles||[],t=>(a(),r("option",{key:t.id,value:t.name},d(t.display_name),9,X))),128))],512),[[U,v.value]])]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-crown mr-1"}),o(" Staff ")],-1)),_(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>f.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[...s[12]||(s[12]=[e("option",{value:""},"Todos",-1),e("option",{value:"1"},"Staff",-1),e("option",{value:"0"},"Não Staff",-1)])],512),[[U,f.value]])]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-star mr-1"}),o(" VIP ")],-1)),_(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>m.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[...s[14]||(s[14]=[e("option",{value:""},"Todos",-1),e("option",{value:"1"},"VIP",-1),e("option",{value:"0"},"Não VIP",-1)])],512),[[U,m.value]])]),e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-sort mr-1"}),o(" Ordenar por ")],-1)),_(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>i.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[...s[16]||(s[16]=[e("option",{value:"created_at"},"Data de Criação",-1),e("option",{value:"name"},"Nome",-1),e("option",{value:"email"},"Email",-1),e("option",{value:"last_seen_at"},"Última Atividade",-1)])],512),[[U,i.value]])])])])]),e("div",Y,[e("div",Z,[e("table",ee,[e("thead",se,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-amber-100",onClick:s[5]||(s[5]=t=>N("name"))},[s[18]||(s[18]=e("i",{class:"fas fa-user mr-1"},null,-1)),s[19]||(s[19]=o(" Usuário ",-1)),i.value==="name"?(a(),r("i",{key:0,class:z([n.value==="asc"?"fas fa-sort-up":"fas fa-sort-down","ml-1"])},null,2)):y("",!0)]),s[22]||(s[22]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-user-tag mr-1"}),o(" Roles ")],-1)),s[23]||(s[23]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-info-circle mr-1"}),o(" Status ")],-1)),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-amber-100",onClick:s[6]||(s[6]=t=>N("created_at"))},[s[20]||(s[20]=e("i",{class:"fas fa-calendar mr-1"},null,-1)),s[21]||(s[21]=o(" Criado em ",-1)),i.value==="created_at"?(a(),r("i",{key:0,class:z([n.value==="asc"?"fas fa-sort-up":"fas fa-sort-down","ml-1"])},null,2)):y("",!0)]),s[24]||(s[24]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-cog mr-1"}),o(" Ações ")],-1))])]),e("tbody",te,[(a(!0),r(h,null,S(u.users.data||[],t=>(a(),r("tr",{key:t.id,class:"hover:bg-amber-50"},[e("td",le,[e("div",ae,[e("div",oe,[e("div",re,[e("span",ie,d(t.name.charAt(0).toUpperCase()),1)])]),e("div",ne,[e("div",de,d(t.name),1),e("div",ue,d(t.email),1)])])]),e("td",fe,[e("div",me,[(a(!0),r(h,null,S(t.roles||[],g=>(a(),r("span",{key:g.id,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",style:G({backgroundColor:g.color+"20",color:g.color})},[e("i",{class:z([g.icon,"mr-1"])},null,2),o(" "+d(g.display_name),1)],4))),128)),(t.roles||[]).length===0?(a(),r("span",pe," Sem roles ")):y("",!0)])]),e("td",ce,[e("div",ve,[t.is_staff?(a(),r("span",xe,[...s[25]||(s[25]=[e("i",{class:"fas fa-crown mr-1"},null,-1),o(" Staff ",-1)])])):y("",!0),t.is_vip?(a(),r("span",ye,[...s[26]||(s[26]=[e("i",{class:"fas fa-star mr-1"},null,-1),o(" VIP ",-1)])])):y("",!0),!t.is_staff&&!t.is_vip?(a(),r("span",ge," Usuário comum ")):y("",!0)])]),e("td",be,d(new Date(t.created_at).toLocaleDateString("pt-BR")),1),e("td",we,[e("div",_e,[b(w(V),{href:l.route("admin.users.show",t),class:"text-medieval-bronze hover:text-medieval-gold"},{default:k(()=>[...s[27]||(s[27]=[e("i",{class:"fas fa-eye"},null,-1)])]),_:1},8,["href"]),b(w(V),{href:l.route("admin.users.edit",t),class:"text-blue-600 hover:text-blue-900"},{default:k(()=>[...s[28]||(s[28]=[e("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"])])])]))),128))])])]),e("div",he,[e("div",ke,[e("div",Ve," Mostrando "+d(u.users.from??0)+" a "+d(u.users.to??0)+" de "+d(u.users.total??0)+" resultados ",1),e("div",Se,[(a(!0),r(h,null,S(u.users.links||[],t=>(a(),R(w(V),{key:t.label,href:t.url||"#",innerHTML:t.label,class:z(["px-3 py-2 text-sm font-medium rounded-md",t.active?"bg-medieval-bronze text-white":"text-gray-500 hover:text-gray-700 hover:bg-amber-100"])},null,8,["href","innerHTML","class"]))),128))])])])])])])]),_:1})],64))}};export{Te as default};
