import{g as l,o,i as c,b as e,t as r,n as C,p as y,j as S,C as F,x as ee,k as z,G as U,m as te,c as B,a as X,w as se,f as oe,d as V,l as ae,H as D,F as E,z as P,B as G}from"./app-C9xiGsXn.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as ie}from"./MedievalAlert-D4mc3oWo.js";const re={key:0,class:"absolute inset-0 rounded-lg border-2 border-purple-400 shadow-lg shadow-purple-200 animate-pulse pointer-events-none"},ne={key:1,class:"absolute inset-0 rounded-lg bg-gradient-to-r from-purple-400/10 via-purple-300/20 to-purple-400/10 animate-pulse pointer-events-none"},de={class:"relative h-32 bg-gradient-to-br from-amber-50 to-yellow-100 flex items-center justify-center"},ce=["src","alt"],me={key:1,class:"text-4xl text-medieval-dark"},ue={class:"absolute top-2 left-2 flex flex-col space-y-1"},ve={key:0,class:"bg-orange-600 text-white text-xs px-2 py-1 rounded-full font-bold text-medieval"},xe={class:"absolute top-2 right-2"},ge={class:"p-4 flex-1 flex flex-col"},he={class:"mb-3"},be={class:"text-lg font-bold text-medieval-dark text-medieval mb-1"},pe={class:"text-sm text-medieval-dark text-medieval capitalize"},ye={key:0,class:"text-sm text-medieval-dark text-medieval mb-3 line-clamp-2 flex-1"},fe={key:1,class:"mb-3"},ke={class:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-medieval"},_e={class:"mb-4"},we={class:"flex items-center justify-between"},$e={class:"flex flex-col space-y-1"},Ce={key:0,class:"flex items-center"},je={class:"text-lg font-bold text-yellow-600"},Se={key:0,class:"ml-2 text-sm text-gray-500 line-through"},Me={key:1,class:"flex items-center"},Ie={class:"text-lg font-bold text-blue-600"},qe={key:0,class:"ml-2 text-sm text-gray-500 line-through"},Te={key:2,class:"mb-3"},Le={class:"text-xs text-medieval-dark text-medieval"},Re={key:0},Oe={key:1,class:"text-red-600 font-bold text-medieval"},Ee=["disabled"],Pe={key:0,class:"text-medieval"},ze={key:1,class:"text-medieval"},Ae={key:2,class:"text-medieval"},Ne={key:3,class:"text-medieval"},Be={key:3,class:"mt-2 text-xs text-medieval-dark text-medieval text-center"},Ve={__name:"ShopItemCard",props:{item:{type:Object,required:!0}},emits:["purchase"],setup(t){const h=t,m=()=>{var v;const u=((v=h.item)==null?void 0:v.category)||"unknown";return{weapon:"⚔️",armor:"🛡️",accessory:"💍",potion:"🧪",material:"📦",special:"✨"}[u]||"📦"},k=()=>{var v;const u=((v=h.item)==null?void 0:v.category)||"unknown";return{weapon:"Arma",armor:"Armadura",accessory:"Acessório",potion:"Poção",material:"Material",special:"Especial"}[u]||u},d=()=>{var v;const u=((v=h.item)==null?void 0:v.rarity)||"common",g={common:"bg-gray-100 text-gray-800",uncommon:"bg-green-100 text-green-800",rare:"bg-blue-100 text-blue-800",epic:"bg-purple-100 text-purple-800",legendary:"bg-purple-200 text-purple-900"};return g[u]||g.common},f=()=>{var v;const u=((v=h.item)==null?void 0:v.rarity)||"common";return{common:"Comum",uncommon:"Incomum",rare:"Raro",epic:"Épico",legendary:"Lendário"}[u]||"Comum"};return(u,g)=>(o(),l("div",{class:C(["relative bg-white rounded-lg shadow-lg border-2 border-medieval-bronze hover:border-medieval-gold transition-all duration-300 overflow-hidden group h-full flex flex-col",t.item.rarity==="legendary"?"border-purple-400 shadow-lg shadow-purple-200 legendary-glow":""])},[t.item.rarity==="legendary"?(o(),l("div",re)):c("",!0),t.item.rarity==="legendary"?(o(),l("div",ne)):c("",!0),e("div",de,[t.item.image_path?(o(),l("img",{key:0,src:t.item.image_path,alt:t.item.name,class:"w-16 h-16 object-cover"},null,8,ce)):(o(),l("div",me,r(m()),1)),e("div",ue,[t.item.is_limited_time?(o(),l("span",ve," ⏰ LIMITADO ")):c("",!0)]),e("div",xe,[e("span",{class:C([d(),"text-xs px-2 py-1 rounded-full font-bold text-medieval"])},r(f()),3)])]),e("div",ge,[e("div",he,[e("h3",be,r(t.item.name),1),e("p",pe,r(k()),1)]),t.item.description?(o(),l("p",ye,r(t.item.description),1)):c("",!0),t.item.min_level>1?(o(),l("div",fe,[e("span",ke," Nível "+r(t.item.min_level)+"+ ",1)])):c("",!0),e("div",_e,[e("div",we,[e("div",$e,[t.item.discounted_gold_price>0?(o(),l("div",Ce,[e("span",je,"🪙 "+r(t.item.discounted_gold_price.toLocaleString()),1),t.item.discount_percentage>0?(o(),l("span",Se,r(t.item.gold_price.toLocaleString()),1)):c("",!0)])):c("",!0),t.item.discounted_coin_price>0?(o(),l("div",Me,[e("span",Ie,"💎 "+r(t.item.discounted_coin_price.toLocaleString()),1),t.item.discount_percentage>0?(o(),l("span",qe,r(t.item.coin_price.toLocaleString()),1)):c("",!0)])):c("",!0)])])]),t.item.stock_quantity!==null?(o(),l("div",Te,[e("div",Le,[t.item.stock_quantity>0?(o(),l("span",Re," Estoque: "+r(t.item.stock_quantity)+" unidades ",1)):(o(),l("span",Oe," Esgotado "))])])):c("",!0),e("button",{onClick:g[0]||(g[0]=v=>u.$emit("purchase",t.item)),disabled:!t.item.can_buy||t.item.stock_quantity===0||t.item.already_purchased,class:C(["w-full py-2 px-4 rounded-lg font-bold transition-all duration-200 mt-auto",t.item.can_buy&&t.item.stock_quantity!==0&&!t.item.already_purchased?"bg-medieval-gold text-medieval-dark hover:bg-yellow-500 transform hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[t.item.already_purchased?(o(),l("span",Pe,"Já Comprado")):t.item.can_buy?t.item.stock_quantity===0?(o(),l("span",Ae,"Esgotado")):(o(),l("span",Ne,"Comprar")):(o(),l("span",ze,"Requisitos não atendidos"))],10,Ee),t.item.daily_limit?(o(),l("div",Be," Limite diário: "+r(t.item.daily_limit)+" por personagem ",1)):c("",!0)])],2))}},K=le(Ve,[["__scopeId","data-v-d406863e"]]),Fe={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},He={class:"card-medieval max-w-md w-full"},Qe={class:"bg-medieval-dark text-medieval-gold p-4 rounded-t-lg mb-4"},Xe={class:"flex items-center justify-between"},De={class:"p-4"},Ge={class:"flex items-center space-x-4 mb-6"},Ke={class:"w-16 h-16 flex items-center justify-center"},Ue=["src","alt"],Je={key:1,class:"text-2xl"},We={class:"flex-1"},Ye={class:"text-xl text-medieval font-bold text-gray-800"},Ze={class:"text-sm text-gray-600 text-medieval capitalize"},et={key:0,class:"mb-4"},tt={class:"mb-4"},st={class:"flex items-center space-x-3"},ot=["disabled"],at=["max","disabled"],lt=["disabled"],it={class:"text-xs text-gray-500 mt-1 text-medieval"},rt={key:0},nt={key:1},dt={class:"bg-gray-50 rounded-lg p-3 mb-4"},ct={class:"space-y-2"},mt={key:0,class:"flex justify-between items-center"},ut={class:"flex items-center"},vt={class:"text-lg font-bold text-yellow-600 text-medieval"},xt={key:0,class:"ml-2 text-sm text-gray-500 line-through text-medieval"},gt={key:1,class:"flex justify-between items-center"},ht={class:"flex items-center"},bt={class:"text-lg font-bold text-blue-600 text-medieval"},pt={key:0,class:"ml-2 text-sm text-gray-500 line-through text-medieval"},yt={key:2,class:"pt-2 border-t border-gray-200"},ft={class:"flex justify-between items-center"},kt={class:"text-sm text-green-600 font-bold text-medieval"},_t={class:"bg-blue-50 rounded-lg p-3 mb-4"},wt={class:"space-y-1"},$t={class:"flex justify-between items-center"},Ct={class:"flex justify-between items-center"},jt={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-2 mb-3"},St={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-2 mb-3"},Mt={class:"flex items-center"},It={class:"text-sm text-red-700 text-medieval"},qt={class:"flex space-x-2"},Tt=["disabled"],Lt={__name:"PurchaseModal",props:{item:{type:Object,required:!0},character:{type:Object,required:!0},user:{type:Object,required:!0}},emits:["close","purchase"],setup(t,{emit:h}){const m=t,k=h,d=y(1),f=S(()=>m.item.stock_quantity===null?10:Math.min(m.item.stock_quantity,10)),u=S(()=>m.item.discounted_gold_price*d.value),g=S(()=>m.item.discounted_coin_price*d.value),v=S(()=>{const x=m.character.gold>=u.value,a=m.user.coin>=g.value;return x&&a}),_=S(()=>m.character.level>=m.item.min_level),j=S(()=>v.value&&_.value&&d.value>0),M=()=>{d.value<f.value&&d.value++},q=()=>{d.value>1&&d.value--},T=()=>{j.value&&k("purchase",{shop_item_id:m.item.id,quantity:d.value})},L=()=>{var b;const x=((b=m.item)==null?void 0:b.category)||"unknown";return{weapon:"⚔️",armor:"🛡️",accessory:"💍",potion:"🧪",material:"📦",special:"✨"}[x]||"📦"},H=()=>{var b;const x=((b=m.item)==null?void 0:b.category)||"unknown";return{weapon:"Arma",armor:"Armadura",accessory:"Acessório",potion:"Poção",material:"Material",special:"Especial"}[x]||x},R=()=>{var b;const x=((b=m.item)==null?void 0:b.rarity)||"common",a={common:"bg-gray-100 text-gray-800",uncommon:"bg-green-100 text-green-800",rare:"bg-blue-100 text-blue-800",epic:"bg-purple-100 text-purple-800",legendary:"bg-purple-200 text-purple-900"};return a[x]||a.common},A=()=>{var b;const x=((b=m.item)==null?void 0:b.rarity)||"common";return{common:"Comum",uncommon:"Incomum",rare:"Raro",epic:"Épico",legendary:"Lendário"}[x]||"Comum"};return F(()=>m.item.id,()=>{d.value=(m.item.is_one_time_purchase,1)}),F(()=>m.item.is_one_time_purchase,x=>{x&&(d.value=1)},{immediate:!0}),(x,a)=>(o(),l("div",Fe,[e("div",He,[e("div",Qe,[e("div",Xe,[a[4]||(a[4]=e("h2",{class:"text-xl text-medieval font-bold title-medieval"},"Confirmar Compra",-1)),e("button",{onClick:a[0]||(a[0]=b=>x.$emit("close")),class:"text-medieval-gold hover:text-white transition-colors"},[...a[3]||(a[3]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",De,[e("div",Ge,[e("div",Ke,[t.item.image_path?(o(),l("img",{key:0,src:t.item.image_path,alt:t.item.name,class:"w-full h-full object-cover rounded-lg"},null,8,Ue)):(o(),l("span",Je,r(L()),1))]),e("div",We,[e("h3",Ye,r(t.item.name),1),e("p",Ze,r(H()),1),e("span",{class:C([R(),"text-xs px-2 py-1 rounded-full font-bold text-medieval"])},r(A()),3)])]),t.item.is_one_time_purchase?(o(),l("div",et,[...a[5]||(a[5]=[ee('<div class="bg-purple-50 border border-purple-200 rounded-lg p-3"><div class="flex items-center"><svg class="w-4 h-4 text-purple-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg><span class="text-sm text-purple-700 text-medieval font-medium"> Este item só pode ser comprado uma vez por personagem </span></div></div>',1)])])):c("",!0),e("div",tt,[a[8]||(a[8]=e("label",{class:"block text-sm text-medieval font-medium text-gray-700 mb-2"}," Quantidade ",-1)),e("div",st,[e("button",{onClick:q,disabled:d.value<=1||t.item.is_one_time_purchase,class:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors"},[...a[6]||(a[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)])],8,ot),z(e("input",{"onUpdate:modelValue":a[1]||(a[1]=b=>d.value=b),type:"number",min:"1",max:f.value,disabled:t.item.is_one_time_purchase,class:"w-16 text-center text-medieval border border-gray-300 rounded-lg py-1 focus:ring-2 focus:ring-amber-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed"},null,8,at),[[U,d.value,void 0,{number:!0}]]),e("button",{onClick:M,disabled:d.value>=f.value||t.item.is_one_time_purchase,class:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center transition-colors"},[...a[7]||(a[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])],8,lt)]),e("p",it,[t.item.is_one_time_purchase?(o(),l("span",rt,"Quantidade fixa: 1 unidade")):(o(),l("span",nt,"Máximo: "+r(f.value)+" unidades",1))])]),e("div",dt,[a[12]||(a[12]=e("h4",{class:"text-sm text-medieval font-medium text-gray-700 mb-2"},"Resumo da Compra",-1)),e("div",ct,[u.value>0?(o(),l("div",mt,[a[9]||(a[9]=e("span",{class:"text-sm text-gray-600 text-medieval"},"Gold:",-1)),e("div",ut,[e("span",vt,"🪙 "+r(u.value.toLocaleString()),1),t.item.discount_percentage>0?(o(),l("span",xt,r((t.item.gold_price*d.value).toLocaleString()),1)):c("",!0)])])):c("",!0),g.value>0?(o(),l("div",gt,[a[10]||(a[10]=e("span",{class:"text-sm text-gray-600 text-medieval"},"Coin:",-1)),e("div",ht,[e("span",bt,"💎 "+r(g.value.toLocaleString()),1),t.item.discount_percentage>0?(o(),l("span",pt,r((t.item.coin_price*d.value).toLocaleString()),1)):c("",!0)])])):c("",!0),t.item.discount_percentage>0?(o(),l("div",yt,[e("div",ft,[a[11]||(a[11]=e("span",{class:"text-sm text-green-600 font-medium text-medieval"},"Desconto:",-1)),e("span",kt,"-"+r(t.item.discount_percentage)+"%",1)])])):c("",!0)])]),e("div",_t,[a[15]||(a[15]=e("h4",{class:"text-sm text-medieval font-medium text-gray-700 mb-2"},"Seu Saldo",-1)),e("div",wt,[e("div",$t,[a[13]||(a[13]=e("span",{class:"text-sm text-gray-600 text-medieval"},"Gold:",-1)),e("span",{class:C(["text-sm font-bold text-medieval",t.character.gold>=u.value?"text-green-600":"text-red-600"])}," 🪙 "+r(t.character.gold.toLocaleString()),3)]),e("div",Ct,[a[14]||(a[14]=e("span",{class:"text-sm text-gray-600 text-medieval"},"Coin:",-1)),e("span",{class:C(["text-sm font-bold text-medieval",t.user.coin>=g.value?"text-green-600":"text-red-600"])}," 💎 "+r(t.user.coin.toLocaleString()),3)])])]),v.value?c("",!0):(o(),l("div",jt,[...a[16]||(a[16]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-4 h-4 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"text-sm text-red-700 text-medieval"},"Moedas insuficientes para esta compra")],-1)])])),_.value?c("",!0):(o(),l("div",St,[e("div",Mt,[a[17]||(a[17]=e("svg",{class:"w-4 h-4 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",It,"Nível insuficiente (Requerido: "+r(t.item.min_level)+"+)",1)])])),e("div",qt,[e("button",{onClick:a[2]||(a[2]=b=>x.$emit("close")),class:"flex-1 btn-medieval py-1.5 px-3 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark text-sm"}," Cancelar "),e("button",{onClick:T,disabled:!j.value,class:C(["flex-1 btn-medieval py-1.5 px-3 transition-colors text-sm",j.value?"bg-medieval-gold text-medieval-dark hover:bg-yellow-500":"bg-gray-300 text-gray-500 cursor-not-allowed"])}," Confirmar Compra ",10,Tt)])])])]))}},Rt={class:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100"},Ot={class:"bg-medieval-dark text-medieval-gold shadow-lg"},Et={class:"container mx-auto px-4 py-4"},Pt={class:"flex justify-between items-center"},zt={class:"flex-1 flex justify-end space-x-4"},At={class:"flex items-center space-x-4 mr-4"},Nt={class:"flex items-center space-x-1"},Bt={class:"text-sm text-medieval font-semibold text-yellow-400"},Vt={class:"flex items-center space-x-1"},Ft={class:"text-sm text-medieval font-semibold text-blue-400"},Ht={class:"container mx-auto px-4 py-8"},Qt={class:"card-medieval mb-6"},Xt={class:"flex flex-wrap gap-4 items-center"},Dt={class:"flex-1 min-w-64"},Gt={class:"relative"},Kt=["value"],Ut={key:0,class:"card-medieval mb-6"},Jt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4"},Wt={class:"card-medieval"},Yt={class:"flex items-center justify-between mb-6"},Zt={class:"text-sm text-medieval-dark text-medieval"},es={key:0,class:"flex justify-center py-12"},ts={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},ss={key:2,class:"text-center py-12"},os={key:3,class:"mt-8 flex justify-center"},as={class:"flex space-x-2"},ls=["onClick"],cs={__name:"Index",props:{shopItems:Object,featuredItems:Array,character:Object,user:Object,filters:Object,categories:Object,rarities:Object},setup(t){const h=t,m=te(),k=y(!1),d=y(h.filters.search||""),f=y(h.filters.category||"all"),u=y(h.filters.rarity||"all"),g=y(h.filters.sort||"featured"),v=y(!1),_=y(null),j=y(!1),M=y("success"),q=y(""),T=y(""),L=y("Entendi"),R=((n,s)=>{let i;return(...p)=>{clearTimeout(i),i=setTimeout(()=>n.apply(null,p),s)}})(()=>{x()},500),A=S(()=>{const n=h.shopItems.current_page,s=h.shopItems.last_page,i=2,p=[],w=[];for(let $=Math.max(2,n-i);$<=Math.min(s-1,n+i);$++)p.push($);return n-i>2?w.push(1,"..."):w.push(1),w.push(...p),n+i<s-1?w.push("...",s):w.push(s),w}),x=()=>{k.value=!0,G.get(route("shop.index"),{category:f.value,rarity:u.value,sort:g.value,search:d.value},{preserveState:!0,preserveScroll:!0,onFinish:()=>{k.value=!1}})},a=n=>{n==="..."||n===h.shopItems.current_page||(k.value=!0,G.get(route("shop.index"),{page:n,category:f.value,rarity:u.value,sort:g.value,search:d.value},{preserveState:!0,preserveScroll:!0,onFinish:()=>{k.value=!1}}))},b=n=>{_.value=n,v.value=!0},I=(n,s,i,p="Entendi")=>{M.value=n,q.value=s,T.value=i,L.value=p,j.value=!0},J=()=>{j.value=!1,M.value==="success"&&setTimeout(()=>{window.location.reload()},300)},Q=()=>{var n;return m.props.csrf_token||((n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))||""},W=async()=>{var n;try{const s=(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content");s&&(m.props.csrf_token=s)}catch(s){console.warn("Erro ao renovar CSRF token:",s)}},Y=async n=>{var s,i;try{const p=Q(),w=await fetch(route("shop.purchase"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":p,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify(n)});if(w.status===419){await W();const N=Q(),O=await(await fetch(route("shop.purchase"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":N,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify(n)})).json();if(O.success){h.character.gold=O.character.gold,h.user.coin=O.user.coin;const Z=((s=_.value)==null?void 0:s.name)||"item";v.value=!1,_.value=null,I("success","Compra Realizada!",`Você comprou ${n.quantity}x ${Z} com sucesso!`,"OK")}else I("error","Erro na Compra",O.error||"Não foi possível realizar a compra. Tente novamente.","Entendi");return}const $=await w.json();if($.success){h.character.gold=$.character.gold,h.user.coin=$.user.coin;const N=((i=_.value)==null?void 0:i.name)||"item";v.value=!1,_.value=null,I("success","Compra Realizada!",`Você comprou ${n.quantity}x ${N} com sucesso!`,"OK")}else I("error","Erro na Compra",$.error||"Não foi possível realizar a compra. Tente novamente.","Entendi")}catch(p){console.error("Erro na compra:",p),I("error","Erro na Compra","Ocorreu um erro inesperado. Tente novamente mais tarde.","Entendi")}};return F([f,u,g],()=>{x()}),(n,s)=>(o(),l("div",Rt,[e("header",Ot,[e("div",Et,[e("div",Pt,[s[6]||(s[6]=e("div",{class:"flex-1"},[e("h1",{class:"text-2xl text-medieval font-bold text-medieval"},"Chronicles of Eldoria")],-1)),s[7]||(s[7]=e("div",{class:"flex-1 text-center"},[e("h2",{class:"text-lg text-medieval font-medieval"},"Taverna do Mercador")],-1)),e("div",zt,[e("div",At,[e("div",Nt,[e("span",Bt,r(t.character.gold.toLocaleString()),1)]),e("div",Vt,[e("span",Ft,r(t.user.coin.toLocaleString()),1)])]),X(V(ae),{href:n.route("dashboard"),class:"btn-medieval text-sm text-medieval px-4 py-2 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark"},{default:se(()=>[...s[5]||(s[5]=[oe(" Voltar ao Dashboard ",-1)])]),_:1},8,["href"])])])])]),e("main",Ht,[e("div",Qt,[s[11]||(s[11]=e("h3",{class:"text-xl text-medieval subtitle-medieval mb-4 text-medieval-gold"},"Filtros",-1)),e("div",Xt,[e("div",Dt,[e("div",Gt,[z(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>d.value=i),type:"text",placeholder:"Buscar itens...",class:"w-full pl-10 pr-4 py-2 border-2 border-medieval-gold rounded-lg bg-white text-medieval-dark text-medieval focus:ring-2 focus:ring-medieval-gold focus:border-transparent",onInput:s[1]||(s[1]=(...i)=>V(R)&&V(R)(...i))},null,544),[[U,d.value]]),s[8]||(s[8]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-medieval-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),z(e("select",{"onUpdate:modelValue":s[2]||(s[2]=i=>u.value=i),onChange:x,class:"px-4 py-2 border-2 border-medieval-gold rounded-lg bg-white text-medieval-dark text-medieval focus:ring-2 focus:ring-medieval-gold focus:border-transparent"},[s[9]||(s[9]=e("option",{value:"all"},"Todas as Raridades",-1)),(o(!0),l(E,null,P(t.rarities,(i,p)=>(o(),l("option",{key:p,value:p},r(i),9,Kt))),128))],544),[[D,u.value]]),z(e("select",{"onUpdate:modelValue":s[3]||(s[3]=i=>g.value=i),onChange:x,class:"px-4 py-2 border-2 border-medieval-gold rounded-lg bg-white text-medieval-dark text-medieval focus:ring-2 focus:ring-medieval-gold focus:border-transparent"},[...s[10]||(s[10]=[e("option",{value:"featured"},"Em Destaque",-1),e("option",{value:"price_low"},"Menor Preço",-1),e("option",{value:"price_high"},"Maior Preço",-1),e("option",{value:"newest"},"Mais Recentes",-1)])],544),[[D,g.value]])])]),t.featuredItems.length>0?(o(),l("div",Ut,[s[12]||(s[12]=e("h3",{class:"text-xl text-medieval subtitle-medieval mb-4 text-medieval-gold"},"Itens em Destaque",-1)),e("div",Jt,[(o(!0),l(E,null,P(t.featuredItems,i=>(o(),B(K,{key:i.id,item:i,onPurchase:b},null,8,["item"]))),128))])])):c("",!0),e("div",Wt,[e("div",Yt,[s[13]||(s[13]=e("h3",{class:"text-xl text-medieval subtitle-medieval text-medieval-gold"},"Todos os Itens",-1)),e("div",Zt," Mostrando "+r(t.shopItems.data.length)+" de "+r(t.shopItems.total)+" itens ",1)]),k.value?(o(),l("div",es,[...s[14]||(s[14]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-medieval-gold"},null,-1)])])):t.shopItems.data.length>0?(o(),l("div",ts,[(o(!0),l(E,null,P(t.shopItems.data,i=>(o(),B(K,{key:i.id,item:i,onPurchase:b},null,8,["item"]))),128))])):(o(),l("div",ss,[...s[15]||(s[15]=[e("div",{class:"text-6xl mb-4"},"🛒",-1),e("h3",{class:"text-xl font-semibold text-medieval-dark text-medieval mb-2"},"Nenhum item encontrado",-1),e("p",{class:"text-medieval-dark text-medieval"},"Tente ajustar os filtros ou buscar por outros termos.",-1)])])),t.shopItems.last_page>1?(o(),l("div",os,[e("nav",as,[(o(!0),l(E,null,P(A.value,i=>(o(),l("button",{key:i,onClick:p=>a(i),class:C(["px-4 py-2 rounded-lg font-medium transition-colors",i===t.shopItems.current_page?"bg-medieval-gold text-medieval-dark":"bg-white text-medieval-dark text-medieval hover:bg-medieval-bronze border-2 border-medieval-gold"])},r(i),11,ls))),128))])])):c("",!0)])]),v.value?(o(),B(Lt,{key:0,item:_.value,character:t.character,user:t.user,onClose:s[4]||(s[4]=i=>v.value=!1),onPurchase:Y},null,8,["item","character","user"])):c("",!0),X(ie,{show:j.value,type:M.value,title:q.value,message:T.value,"button-text":L.value,onClose:J},null,8,["show","type","title","message","button-text"])]))}};export{cs as default};
