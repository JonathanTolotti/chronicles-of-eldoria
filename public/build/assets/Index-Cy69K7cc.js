import{m as b,p as T,g as S,o as l,w as c,b as e,c as n,e as y,a as w,d as r,u as p,l as v,j as h,v as F,F as k,r as C,t as u,k as z,n as x,q as M}from"./app-BAeMEX1w.js";import{_ as P}from"./AdminLayout-DUtxSjzB.js";const U={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"mb-8"},$={class:"flex justify-between items-center"},E={class:"card-medieval mb-6"},G={class:"p-6"},H={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},I=["value"],q={class:"card-medieval"},R={class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200"},K={class:"bg-gray-50"},Q={class:"bg-white divide-y divide-gray-200"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"flex items-center"},Y={class:"ml-4"},Z={class:"text-sm font-medium text-gray-900"},ee={class:"text-sm text-gray-500"},se={class:"px-6 py-4 whitespace-nowrap"},te={class:"px-6 py-4 whitespace-nowrap"},ae={class:"text-sm text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap"},le={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},oe={class:"flex items-center space-x-2"},ie={key:0,class:"card-medieval"},ne={class:"text-center py-12"},de={key:1,class:"mt-6"},ue={class:"flex justify-center"},me={class:"flex space-x-1"},ve={__name:"Index",props:{permissions:Object,filters:Object,categories:Array},setup(d){var V,_,j,B;const g=d,m=b(((V=g.filters)==null?void 0:V.search)||""),f=b(((_=g.filters)==null?void 0:_.filter_category)||""),i=b(((j=g.filters)==null?void 0:j.sort_by)||"category"),o=b(((B=g.filters)==null?void 0:B.sort_order)||"asc");T([m,f,i,o],()=>{const a={};m.value&&(a.search=m.value),f.value&&(a.filter_category=f.value),i.value&&(a.sort_by=i.value),o.value&&(a.sort_order=o.value),M.get(route("admin.permissions.index"),a,{preserveState:!0,replace:!0})},{deep:!0});const N=a=>{i.value===a?o.value=o.value==="asc"?"desc":"asc":(i.value=a,o.value="asc")},D=a=>({users:"bg-blue-100 text-blue-800",characters:"bg-green-100 text-green-800",battles:"bg-red-100 text-red-800",system:"bg-purple-100 text-purple-800",roles:"bg-orange-100 text-orange-800",permissions:"bg-yellow-100 text-yellow-800"})[a]||"bg-gray-100 text-gray-800",O=a=>a?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return(a,s)=>(l(),S(P,null,{default:c(()=>[e("div",U,[e("div",A,[e("div",L,[e("div",$,[s[7]||(s[7]=e("div",null,[e("h1",{class:"text-3xl font-bold text-medieval-bronze mb-2"},[e("i",{class:"fas fa-key mr-3"}),r(" Gerenciamento de Permissões ")]),e("p",{class:"text-gray-600"},"Gerencie as permissões do sistema")],-1)),w(p(v),{href:a.route("admin.permissions.create"),class:"btn-medieval bg-medieval-gold hover:bg-medieval-bronze text-white"},{default:c(()=>[...s[6]||(s[6]=[e("i",{class:"fas fa-plus mr-2"},null,-1),r(" Nova Permissão ",-1)])]),_:1},8,["href"])])]),e("div",E,[e("div",G,[e("div",H,[e("div",null,[s[8]||(s[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-search mr-1"}),r(" Buscar ")],-1)),h(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),type:"text",placeholder:"Nome, display name ou descrição...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},null,512),[[F,m.value]])]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-tags mr-1"}),r(" Categoria ")],-1)),h(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>f.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[s[9]||(s[9]=e("option",{value:""},"Todas as categorias",-1)),(l(!0),n(k,null,C(d.categories,t=>(l(),n("option",{key:t,value:t},u(t),9,I))),128))],512),[[z,f.value]])]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-sort mr-1"}),r(" Ordenar por ")],-1)),h(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[...s[11]||(s[11]=[e("option",{value:"category"},"Categoria",-1),e("option",{value:"name"},"Nome",-1),e("option",{value:"display_name"},"Display Name",-1),e("option",{value:"created_at"},"Data de Criação",-1)])],512),[[z,i.value]])]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[e("i",{class:"fas fa-sort-alpha-down mr-1"}),r(" Ordem ")],-1)),h(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.value=t),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[...s[13]||(s[13]=[e("option",{value:"asc"},"Crescente",-1),e("option",{value:"desc"},"Decrescente",-1)])],512),[[z,o.value]])])])])]),e("div",q,[e("div",R,[e("table",J,[e("thead",K,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-amber-100",onClick:s[4]||(s[4]=t=>N("name"))},[s[15]||(s[15]=e("i",{class:"fas fa-key mr-1"},null,-1)),s[16]||(s[16]=r(" Permissão ",-1)),i.value==="name"?(l(),n("i",{key:0,class:x([o.value==="asc"?"fas fa-sort-up":"fas fa-sort-down","ml-1"])},null,2)):y("",!0)]),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-amber-100",onClick:s[5]||(s[5]=t=>N("category"))},[s[17]||(s[17]=e("i",{class:"fas fa-tags mr-1"},null,-1)),s[18]||(s[18]=r(" Categoria ",-1)),i.value==="category"?(l(),n("i",{key:0,class:x([o.value==="asc"?"fas fa-sort-up":"fas fa-sort-down","ml-1"])},null,2)):y("",!0)]),s[19]||(s[19]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-users mr-1"}),r(" Roles ")],-1)),s[20]||(s[20]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-info-circle mr-1"}),r(" Status ")],-1)),s[21]||(s[21]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},[e("i",{class:"fas fa-cogs mr-1"}),r(" Ações ")],-1))])]),e("tbody",Q,[(l(!0),n(k,null,C(d.permissions.data||[],t=>(l(),n("tr",{key:t.id,class:"hover:bg-amber-50"},[e("td",W,[e("div",X,[s[22]||(s[22]=e("div",{class:"flex-shrink-0 h-10 w-10"},[e("div",{class:"h-10 w-10 rounded-full bg-medieval-bronze flex items-center justify-center"},[e("i",{class:"fas fa-key text-white"})])],-1)),e("div",Y,[e("div",Z,u(t.display_name),1),e("div",ee,u(t.name),1)])])]),e("td",se,[e("span",{class:x([D(t.category),"px-2 py-1 text-xs rounded-full"])},u(t.category),3)]),e("td",te,[e("div",ae,u(t.roles_count||0),1)]),e("td",re,[e("span",{class:x([O(t.is_active),"px-2 py-1 text-xs rounded-full"])},u(t.is_active?"Ativa":"Inativa"),3)]),e("td",le,[e("div",oe,[w(p(v),{href:a.route("admin.permissions.show",t.id),class:"text-medieval-bronze hover:text-medieval-gold",title:"Ver detalhes"},{default:c(()=>[...s[23]||(s[23]=[e("i",{class:"fas fa-eye"},null,-1)])]),_:1},8,["href"]),w(p(v),{href:a.route("admin.permissions.edit",t.id),class:"text-blue-600 hover:text-blue-900",title:"Editar"},{default:c(()=>[...s[24]||(s[24]=[e("i",{class:"fas fa-edit"},null,-1)])]),_:1},8,["href"])])])]))),128))])])])]),!d.permissions.data||d.permissions.data.length===0?(l(),n("div",ie,[e("div",ne,[s[26]||(s[26]=e("i",{class:"fas fa-key text-gray-400 text-6xl mb-4"},null,-1)),s[27]||(s[27]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Nenhuma permissão encontrada",-1)),s[28]||(s[28]=e("p",{class:"text-gray-500 mb-4"},"Comece criando sua primeira permissão.",-1)),w(p(v),{href:a.route("admin.permissions.create"),class:"btn-medieval bg-medieval-gold hover:bg-medieval-bronze text-white"},{default:c(()=>[...s[25]||(s[25]=[e("i",{class:"fas fa-plus mr-2"},null,-1),r(" Criar Permissão ",-1)])]),_:1},8,["href"])])])):y("",!0),d.permissions.links&&d.permissions.links.length>1?(l(),n("div",de,[e("nav",ue,[e("div",me,[(l(!0),n(k,null,C(d.permissions.links,t=>(l(),S(p(v),{key:t.label,href:t.url||"#",innerHTML:t.label,class:x(["px-3 py-2 text-sm border rounded-md",t.active?"bg-medieval-bronze text-white border-medieval-bronze":"bg-white text-gray-700 border-gray-300 hover:bg-amber-50",t.url?"hover:border-medieval-bronze":"opacity-50 cursor-not-allowed"])},null,8,["href","innerHTML","class"]))),128))])])])):y("",!0)])])]),_:1}))}};export{ve as default};
