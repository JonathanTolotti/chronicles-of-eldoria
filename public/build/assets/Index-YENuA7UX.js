import{m as Fe,p as b,q as He,s as Le,g as d,o as i,b as e,i as g,a as Xe,w as De,f as Me,d as Ie,l as Ue,x as Pe,t as l,y as R,F as P,z as O,k as Ke,v as Ge,n as Oe,A as We}from"./app-D02OxgWq.js";import{_ as Je}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Qe={class:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100"},Ye={class:"bg-medieval-dark text-medieval-gold shadow-lg"},Ze={class:"container mx-auto px-4 py-4"},et={class:"flex justify-between items-center"},tt={class:"flex-1 flex justify-end space-x-4"},st={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-1 sm:p-4"},at={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto"},lt={class:"bg-gradient-to-br from-medieval-gold via-yellow-400 to-medieval-bronze text-medieval-dark px-8 py-8 rounded-xl shadow-2xl max-w-2xl w-full mx-4 border-4 border-medieval-dark transform transition-all duration-1000 ease-out animate-level-up"},ot={class:"text-center mb-6 relative z-10"},rt={class:"text-3xl sm:text-4xl font-bold text-medieval whitespace-nowrap"},dt={class:"text-center relative z-10"},it={class:"bg-white rounded-lg shadow-2xl max-w-6xl w-full h-[98vh] sm:h-[90vh] flex flex-col"},nt={class:"p-1 sm:p-4 flex-1 flex flex-col overflow-hidden"},ct={class:"mb-2"},ut={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 sm:gap-2"},vt={class:"bg-gray-50 rounded-lg p-2 sm:p-3"},mt={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},bt={class:"flex items-center space-x-1 sm:space-x-2"},xt={class:"flex-shrink-0"},ft=["src","alt"],gt={class:"flex-1 space-y-1"},ht={class:"flex justify-between text-xs mb-1"},pt={class:"text-red-600 font-semibold text-xs"},_t={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},yt={class:"flex justify-between text-xs mb-1"},wt={class:"text-blue-600 font-semibold text-xs"},kt={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},jt={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},Et={class:"flex justify-between"},$t={class:"font-semibold text-medieval-gold"},Tt={class:"flex justify-between"},St={class:"font-semibold text-green-600"},At={class:"bg-red-50 rounded-lg p-2 sm:p-3"},Ct={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},Pt={class:"flex items-center space-x-1 sm:space-x-2"},Ot={class:"flex-shrink-0"},Nt=["src","alt"],qt={key:1,class:"w-10 h-10 sm:w-14 sm:h-14 bg-gray-300 rounded-lg flex items-center justify-center text-lg sm:text-xl"},Bt={class:"flex-1 space-y-1"},Rt={class:"flex justify-between text-xs mb-1"},Vt={class:"text-red-600 font-semibold text-xs"},zt={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},Ft={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},Ht={class:"flex justify-between"},Lt={class:"font-semibold text-medieval-gold"},Xt={class:"flex justify-between"},Dt={class:"font-semibold text-orange-600"},Mt={class:"flex justify-between"},It={class:"font-semibold text-blue-600"},Ut={class:"flex justify-between"},Kt={class:"font-semibold text-green-600"},Gt={class:"mb-1 sm:mb-2 flex-1 flex flex-col min-h-0 max-h-32 sm:max-h-48"},Wt={class:"bg-gray-900 text-green-400 p-2 sm:p-4 rounded-lg flex-1 overflow-y-auto font-mono text-xs sm:text-sm battle-log min-h-0"},Jt={key:0,class:"text-gray-500"},Qt={key:0,class:"border-t border-gray-200 pt-1 sm:pt-2"},Yt={class:"text-center"},Zt={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-1 sm:p-2 mb-2 sm:mb-3"},es={key:1,class:"flex items-center justify-center mb-2 sm:mb-3"},ts={class:"flex items-center space-x-1 sm:space-x-2 cursor-pointer"},ss={class:"flex flex-row justify-center gap-1 sm:gap-2"},as=["disabled"],ls=["disabled"],os={key:1,class:"border-t border-gray-200 pt-3 sm:pt-4"},rs={class:"text-center"},ds={class:"text-base sm:text-lg text-medieval mb-3 sm:mb-4 font-semibold"},is={key:0,class:"bg-green-50 border border-green-200 p-2 sm:p-4 rounded-lg mb-3 sm:mb-4"},ns={class:"flex justify-center space-x-4 sm:space-x-6 text-xs sm:text-sm"},cs={class:"text-yellow-600 font-semibold"},us={class:"text-blue-600 font-semibold"},vs={key:2,class:"border-t border-medieval-bronze pt-3"},ms={class:"flex flex-col sm:flex-row gap-3"},bs={class:"flex-1"},xs={class:"flex justify-center gap-1 sm:gap-2"},fs=["data-slot","onClick","disabled"],gs={key:0,class:"flex flex-col items-center justify-center h-full"},hs=["src","alt"],ps={class:"text-xs text-medieval font-semibold"},_s={class:"text-xs text-medieval-gold font-semibold"},ys={key:1,class:"flex flex-col items-center justify-center h-full"},ws={class:"text-medieval-stone text-xs font-semibold"},ks={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap"},js={class:"font-semibold text-medieval-gold mb-1"},Es={class:"text-gray-400 mt-1"},$s={key:1,class:"fixed top-4 right-4 z-50 animate-fade-in"},Ts={class:"flex items-center space-x-3"},Ss={class:"text-xl"},As={key:0},Cs={key:1},Ps={key:2},Os={class:"flex-1"},Ns={class:"text-sm font-semibold text-medieval-dark"},qs={class:"flex-1 p-4"},Bs={class:"max-w-6xl mx-auto"},Rs={class:"card-medieval mb-6"},Vs={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},zs={class:"text-center"},Fs={class:"font-semibold text-medieval"},Hs={class:"text-sm text-medieval-stone"},Ls={class:"text-center"},Xs={class:"font-semibold text-red-600"},Ds={class:"text-center"},Ms={class:"font-semibold text-blue-600"},Is={class:"card-medieval"},Us={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ks={class:"mb-2 flex justify-center"},Gs=["src","alt"],Ws={key:1,class:"text-4xl"},Js={class:"font-semibold text-lg text-medieval text-center mb-2"},Qs={class:"text-sm text-medieval-stone text-center mb-3"},Ys={class:"space-y-1 text-xs text-medieval mb-4"},Zs={class:"flex justify-between"},ea={class:"font-semibold text-medieval-gold"},ta={class:"flex justify-between"},sa={class:"font-semibold text-red-600"},aa={class:"flex justify-between"},la={class:"font-semibold text-orange-600"},oa={class:"flex justify-between"},ra={class:"font-semibold text-blue-600"},da={class:"flex justify-between"},ia={class:"font-semibold text-green-600"},na={class:"bg-gray-50 p-2 rounded mb-3"},ca={class:"text-xs text-center space-y-1"},ua={class:"flex justify-between"},va={class:"font-semibold"},ma={class:"flex justify-between"},ba={class:"font-semibold"},xa={class:"flex justify-between"},fa={class:"font-semibold"},ga=["onClick","disabled"],ha={__name:"Index",props:{character:Object,monsters:Array},setup(x){const $=x,T=Fe(),V=s=>s?s.avatar_url?s.avatar_url:s.avatar?`/${`images/avatars/${s.avatar}.png`}`:"/images/avatars/default.png":"/images/avatars/default.png",N=b(!1),u=b(null),S=b(null),y=b([]),h=b(!1),w=b(null),f=b(!1),p=b(!1),j=b(null),m=b([null,null,null,null]),A=b(!1),z=b(""),E=b("success"),n=b({...$.character}),q=b(!1),F=b(""),Ne=s=>{F.value=`ğŸ‰ NOVO NÃVEL ${s}! ğŸ‰`,q.value=!0};console.log("Props character inicial:",$.character),console.log("CharacterData inicial:",n.value);const H=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),qe=s=>{switch(s.effect_type){case"heal_hp":return`+${s.effect_value} HP`;case"restore_stamina":return`+${s.effect_value} Stamina`;case"restore_mp":return`+${s.effect_value} MP`;case"buff_strength":return`+${s.effect_value} ForÃ§a`;case"buff_dexterity":return`+${s.effect_value} Destreza`;case"buff_constitution":return`+${s.effect_value} ConstituiÃ§Ã£o`;case"buff_intelligence":return`+${s.effect_value} InteligÃªncia`;case"buff_luck":return`+${s.effect_value} Sorte`;default:return`${s.effect_type}: +${s.effect_value}`}},B=(s,t="success")=>{z.value=s,E.value=t,A.value=!0,setTimeout(()=>{A.value=!1},3e3)},L=async()=>{try{const s=await fetch("/api/items/hotkeys",{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(s.ok){const t=await s.json();if(console.log("Hotkeys recebidos na batalha:",t.hotkeys),t.success&&t.hotkeys){const r=[null,null,null,null];for(let a=1;a<=4;a++)t.hotkeys[a]&&(r[a-1]=t.hotkeys[a]);m.value=r,console.log("Hotkeys processados na batalha:",m.value)}else m.value=[null,null,null,null]}}catch(s){console.error("Erro ao carregar hotkeys:",s),m.value=[null,null,null,null]}},X=async s=>{var t;if(!(!m.value[s-1]||f.value)){m.value[s-1];try{const r=await fetch("/api/items/use-hotkey",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":T.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({slot:s})});if(r.ok){const a=await r.json();if(a.success){a.character&&(n.value={...n.value,...a.character},Object.keys(a.character).forEach(_=>{$.character[_]=a.character[_]})),await We(),await L(),v(`ğŸ§ª ${a.message}`),B(a.message,"success");const c=document.querySelector(`[data-slot="${s}"]`);c&&(c.classList.add("animate-pulse","bg-green-100","border-green-400"),setTimeout(()=>{c.classList.remove("animate-pulse","bg-green-100","border-green-400")},1e3))}else v(`âŒ ${a.message}`),B(a.message,"error")}}catch{v("âŒ Erro ao usar poÃ§Ã£o"),B("Erro ao usar poÃ§Ã£o","error")}}},D=async s=>{var t;try{const r=T.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",a=await fetch(route("battle.start"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({monster_id:s.id})});if(!a.ok){const _=await a.json();if(console.error("Erro ao iniciar batalha:",_),_.error){v(`âŒ ${_.error}`);return}throw new Error(`HTTP error! status: ${a.status}`)}const c=await a.json();Object.assign($.character,c.character),Object.assign(n.value,c.character),u.value=c.monster,S.value=c.battle_instance_id,N.value=!0,y.value=[],h.value=!1,w.value=null,f.value=!1,console.log("Battle setup:",{battle_instance_id:c.battle_instance_id,monster_hp:c.monster.current_hp,is_continuing:c.is_continuing_battle}),c.is_continuing_battle?v(`Continuando batalha contra ${s.name}! (HP: ${c.monster.current_hp}/${c.monster.max_hp})`):v(`Batalha iniciada contra ${s.name}!`)}catch(r){console.error("Erro ao iniciar batalha:",r),v("âŒ Erro ao iniciar batalha!")}},M=()=>{C(),N.value=!1,u.value=null,S.value=null,y.value=[],h.value=!1,w.value=null,f.value=!1,p.value=!1},Be=async()=>{u.value&&await D(u.value)},v=s=>{y.value.push(`[${new Date().toLocaleTimeString()}] ${s}`),y.value.length>20&&(y.value=y.value.slice(-20)),setTimeout(()=>{const t=document.querySelector(".battle-log");t&&(t.scrollTop=t.scrollHeight)},100)},Re=()=>{p.value?Ve():C()},Ve=()=>{j.value&&clearInterval(j.value),v("ğŸ¤– Batalha automÃ¡tica ativada!"),j.value=setInterval(()=>{var s;!h.value&&!f.value&&(((s=n.value)==null?void 0:s.current_hp)||0)>0?I():h.value&&C()},3e3)},C=()=>{j.value&&(clearInterval(j.value),j.value=null),p.value&&(v("â¹ï¸ Batalha automÃ¡tica desativada!"),p.value=!1)},I=async()=>{var s;if(!(f.value||!u.value)){f.value=!0,v("VocÃª atacou!");try{const t=T.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",r=await fetch(route("battle.attack"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:S.value})});if(!r.ok){const c=await r.json();if(console.error("Erro na resposta:",c),c.error&&c.error.includes("Stamina insuficiente")){v(`âŒ ${c.error}`);return}throw new Error(`HTTP error! status: ${r.status} - ${c.error||"Erro desconhecido"}`)}const a=await r.json();console.log("Dados recebidos:",a),Object.assign($.character,a.character),Object.assign(n.value,a.character),Object.assign(u.value,a.monster),a.attack_result&&v(a.attack_result.message),a.monster_attack_result&&v(a.monster_attack_result.message),a.battle_over&&(h.value=!0,w.value=a.result,p.value=!1,a.leveled_up&&a.new_level&&(Ne(a.new_level),v(`ğŸ‰ LEVEL UP! VocÃª subiu para o nÃ­vel ${a.new_level}! ğŸ‰`)),a.result.winner==="character"?v(`[VITÃ“RIA] VocÃª derrotou o monstro! Ganhou ${a.result.gold_reward} gold e ${a.result.exp_reward} EXP!`):a.result.winner==="monster"?v("[DERROTA] VocÃª foi derrotado pelo monstro!"):a.result.winner==="fled"&&v("[FUGA] VocÃª fugiu da batalha!"))}catch(t){console.error("Erro ao atacar:",t),v("âŒ Erro ao executar ataque!")}finally{f.value=!1}}},ze=async()=>{var s;if(!f.value){f.value=!0;try{const t=T.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",r=await fetch(route("battle.flee"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:S.value})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();h.value=!0,w.value=a.result,v(a.result.message)}catch(t){console.error("Erro ao fugir:",t),v("âŒ Erro ao tentar fugir!")}finally{f.value=!1}}},U=s=>{s.target.style.display="none";const t=s.target.nextElementSibling;t&&(t.style.display="flex")},K=s=>{if(h.value||f.value)return;const t=s.key;let r=null;switch(t){case"F1":r=1;break;case"F2":r=2;break;case"F3":r=3;break;case"F4":r=4;break;default:return}s.preventDefault(),m.value[r-1]&&X(r)};return He(()=>{L(),document.addEventListener("keydown",K)}),Le(()=>{C(),document.removeEventListener("keydown",K)}),(s,t)=>{var r,a,c,_,G,W,J,Q,Y,Z,ee,te,se,ae,le,oe,re,de,ie,ne,ce,ue,ve,me,be,xe,fe,ge,he,pe,_e,ye,we,ke,je,Ee;return i(),d("div",Qe,[e("header",Ye,[e("div",Ze,[e("div",et,[t[4]||(t[4]=e("div",{class:"flex-1"},[e("h1",{class:"text-2xl font-bold title-medieval"},"Chronicles of Eldoria")],-1)),t[5]||(t[5]=e("div",{class:"flex-1 text-center"},[e("h2",{class:"text-lg font-medieval"},"Arena de Batalha")],-1)),e("div",tt,[Xe(Ie(Ue),{href:s.route("dashboard"),class:"btn-medieval text-sm px-4 py-2 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark"},{default:De(()=>[...t[3]||(t[3]=[Me(" Voltar ao Dashboard ",-1)])]),_:1},8,["href"])])])])]),N.value?(i(),d("div",st,[q.value?(i(),d("div",at,[e("div",lt,[t[6]||(t[6]=e("div",{class:"absolute inset-0 rounded-xl border-2 border-medieval-gold/50"},null,-1)),e("div",ot,[e("div",rt,l(F.value),1)]),t[7]||(t[7]=Pe('<div class="w-full h-1 bg-gradient-to-r from-transparent via-medieval-dark to-transparent mb-6" data-v-27bbcdf1></div><div class="bg-medieval-dark/30 rounded-xl p-6 border-2 border-medieval-bronze/50 relative z-10 mb-6" data-v-27bbcdf1><h4 class="text-2xl font-bold text-medieval-dark mb-6 text-center" data-v-27bbcdf1> ğŸ° Recompensas de NÃ­vel ğŸ° </h4><div class="grid grid-cols-4 gap-4 mb-6" data-v-27bbcdf1><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-27bbcdf1><div class="text-4xl mb-2" data-v-27bbcdf1>âš”ï¸</div><div class="text-sm font-semibold text-gray-900" data-v-27bbcdf1>Arma Ã‰pica</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-27bbcdf1><div class="text-3xl text-white" data-v-27bbcdf1>ğŸ”’</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-27bbcdf1><div class="text-4xl mb-2" data-v-27bbcdf1>ğŸ›¡ï¸</div><div class="text-sm font-semibold text-gray-900" data-v-27bbcdf1>Armadura</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-27bbcdf1><div class="text-3xl text-white" data-v-27bbcdf1>ğŸ”’</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-27bbcdf1><div class="text-4xl mb-2" data-v-27bbcdf1>ğŸ’</div><div class="text-sm font-semibold text-gray-900" data-v-27bbcdf1>Gema Rara</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-27bbcdf1><div class="text-3xl text-white" data-v-27bbcdf1>ğŸ”’</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-27bbcdf1><div class="text-4xl mb-2" data-v-27bbcdf1>ğŸ“œ</div><div class="text-sm font-semibold text-gray-900" data-v-27bbcdf1>Pergaminho</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-27bbcdf1><div class="text-3xl text-white" data-v-27bbcdf1>ğŸ”’</div></div></div></div><div class="text-center" data-v-27bbcdf1><p class="text-lg text-medieval-dark font-semibold mb-2" data-v-27bbcdf1> ğŸš§ Sistema em Desenvolvimento ğŸš§ </p><p class="text-sm text-medieval-dark" data-v-27bbcdf1> Em breve vocÃª receberÃ¡ recompensas especiais ao subir de nÃ­vel! </p></div></div>',2)),e("div",dt,[e("button",{onClick:t[0]||(t[0]=o=>q.value=!1),class:"bg-medieval-dark hover:bg-medieval-bronze text-medieval-gold font-bold py-3 px-8 rounded-lg border-2 border-medieval-bronze transition-all duration-200 hover:scale-105 shadow-lg"}," Fechar ")]),t[8]||(t[8]=e("div",{class:"absolute top-2 left-2 w-6 h-6 border-l-4 border-t-4 border-medieval-dark rounded-tl-lg"},null,-1)),t[9]||(t[9]=e("div",{class:"absolute top-2 right-2 w-6 h-6 border-r-4 border-t-4 border-medieval-dark rounded-tr-lg"},null,-1)),t[10]||(t[10]=e("div",{class:"absolute bottom-2 left-2 w-6 h-6 border-l-4 border-b-4 border-medieval-dark rounded-bl-lg"},null,-1)),t[11]||(t[11]=e("div",{class:"absolute bottom-2 right-2 w-6 h-6 border-r-4 border-b-4 border-medieval-dark rounded-br-lg"},null,-1))])])):g("",!0),e("div",it,[e("div",{class:"bg-medieval-dark text-medieval-gold p-2 rounded-t-lg"},[e("div",{class:"flex justify-between items-center"},[t[12]||(t[12]=e("h3",{class:"text-sm font-bold title-medieval"},"Combate",-1)),e("button",{onClick:M,class:"text-medieval-gold hover:text-white text-lg p-1"}," Ã— ")])]),e("div",nt,[e("div",ct,[e("div",ut,[e("div",vt,[e("h4",mt,l((r=n.value)==null?void 0:r.name),1),e("div",bt,[e("div",xt,[e("img",{src:V(n.value)||V(x.character),alt:`Avatar de ${(a=n.value)==null?void 0:a.name}`,class:"w-10 h-10 sm:w-14 sm:h-14 rounded-lg object-cover border-2 border-medieval-gold"},null,8,ft)]),e("div",gt,[e("div",null,[e("div",ht,[t[13]||(t[13]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",pt,l((c=n.value)==null?void 0:c.current_hp)+"/"+l((_=n.value)==null?void 0:_.max_hp),1)]),e("div",_t,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:R({width:(G=n.value)!=null&&G.max_hp?`${(((W=n.value)==null?void 0:W.current_hp)||0)/n.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",null,[e("div",yt,[t[14]||(t[14]=e("span",{class:"text-medieval"},"Stamina:",-1)),e("span",wt,l((J=n.value)==null?void 0:J.current_stamina)+"/"+l((Q=n.value)==null?void 0:Q.max_stamina),1)]),e("div",kt,[e("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:R({width:(Y=n.value)!=null&&Y.max_stamina?`${(((Z=n.value)==null?void 0:Z.current_stamina)||0)/n.value.max_stamina*100}%`:"0%"})},null,4)])]),e("div",jt,[e("div",Et,[t[15]||(t[15]=e("span",null,"NÃ­vel:",-1)),e("span",$t,l((ee=n.value)==null?void 0:ee.level),1)]),e("div",Tt,[t[16]||(t[16]=e("span",null,"Poder:",-1)),e("span",St,l((te=n.value)==null?void 0:te.power),1)])])])])]),e("div",At,[e("h4",Ct,l((se=u.value)==null?void 0:se.name),1),e("div",Pt,[e("div",Ot,[(ae=u.value)!=null&&ae.image_path?(i(),d("img",{key:0,src:u.value.image_path,alt:u.value.name,class:"w-10 h-10 sm:w-14 sm:h-14 object-contain",onError:U},null,40,Nt)):(i(),d("div",qt,l((le=u.value)==null?void 0:le.image),1))]),e("div",Bt,[e("div",null,[e("div",Rt,[t[17]||(t[17]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",Vt,l((oe=u.value)==null?void 0:oe.current_hp)+"/"+l((re=u.value)==null?void 0:re.max_hp),1)]),e("div",zt,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:R({width:(de=u.value)!=null&&de.max_hp?`${(((ie=u.value)==null?void 0:ie.current_hp)||0)/u.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",Ft,[e("div",Ht,[t[18]||(t[18]=e("span",null,"NÃ­vel:",-1)),e("span",Lt,l((ne=u.value)==null?void 0:ne.level),1)]),e("div",Xt,[t[19]||(t[19]=e("span",null,"Ataque:",-1)),e("span",Dt,l((ce=u.value)==null?void 0:ce.attack_power),1)]),e("div",Mt,[t[20]||(t[20]=e("span",null,"Defesa:",-1)),e("span",It,l((ue=u.value)==null?void 0:ue.defense),1)]),e("div",Ut,[t[21]||(t[21]=e("span",null,"Velocidade:",-1)),e("span",Kt,l((ve=u.value)==null?void 0:ve.speed),1)])])])])])])]),e("div",Gt,[t[22]||(t[22]=e("h3",{class:"text-xs sm:text-sm subtitle-medieval mb-1 sm:mb-2 text-medieval-gold"},"Log de Combate",-1)),e("div",Wt,[(i(!0),d(P,null,O(y.value,(o,k)=>(i(),d("div",{key:k,class:"mb-1 break-words"},l(o),1))),128)),y.value.length===0?(i(),d("div",Jt," A batalha comeÃ§ou! Escolha sua aÃ§Ã£o... ")):g("",!0)])]),h.value?g("",!0):(i(),d("div",Qt,[e("div",Yt,[t[25]||(t[25]=e("h3",{class:"text-xs subtitle-medieval mb-1 text-medieval-gold"},"Escolha sua AÃ§Ã£o",-1)),(((me=n.value)==null?void 0:me.current_hp)||0)<=0?(i(),d("div",Zt,[...t[23]||(t[23]=[e("p",{class:"text-xs text-red-800"}," ğŸ’€ VocÃª estÃ¡ morto! Precisa ser revivido para batalhar. ",-1)])])):g("",!0),(((be=n.value)==null?void 0:be.current_hp)||0)>0?(i(),d("div",es,[e("label",ts,[Ke(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=o=>p.value=o),onChange:Re,class:"w-3 h-3 sm:w-4 sm:h-4 text-medieval-gold bg-gray-100 border-gray-300 rounded focus:ring-medieval-gold focus:ring-2"},null,544),[[Ge,p.value]]),t[24]||(t[24]=e("span",{class:"text-xs text-medieval font-medium"},"Batalha AutomÃ¡tica",-1))])])):g("",!0),e("div",ss,[e("button",{onClick:I,disabled:f.value||(((xe=n.value)==null?void 0:xe.current_hp)||0)<=0||p.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"},l(f.value?"Atacando...":p.value?"ğŸ¤– AutomÃ¡tico":"Atacar"),9,as),e("button",{onClick:ze,disabled:f.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"}," Fugir ",8,ls)])])])),t[31]||(t[31]=e("div",{class:"mb-1 sm:mb-3"},null,-1)),h.value?(i(),d("div",os,[e("div",rs,[e("p",ds,l((fe=w.value)==null?void 0:fe.message),1),((ge=w.value)==null?void 0:ge.winner)==="character"?(i(),d("div",is,[t[26]||(t[26]=e("h4",{class:"font-bold text-green-800 mb-2 text-sm sm:text-base"},"Recompensas Obtidas:",-1)),e("div",ns,[e("span",cs,"ğŸª™ +"+l(((he=w.value)==null?void 0:he.gold_reward)||0)+" Gold",1),e("span",us,"â­ +"+l(((pe=w.value)==null?void 0:pe.exp_reward)||0)+" EXP",1)])])):g("",!0),e("div",{class:"flex flex-col sm:flex-row justify-center gap-2"},[e("button",{onClick:Be,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold transform hover:scale-105 transition-transform"}," Batalhar Novamente "),e("button",{onClick:M,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark transform hover:scale-105 transition-transform"}," Fechar ")])])])):g("",!0),h.value?g("",!0):(i(),d("div",vs,[e("div",ms,[e("div",bs,[t[29]||(t[29]=e("h3",{class:"text-sm subtitle-medieval mb-2 text-medieval-gold text-center"},"PoÃ§Ãµes",-1)),e("div",xs,[(i(),d(P,null,O(4,o=>e("div",{key:o,class:"relative group"},[e("button",{"data-slot":o,onClick:k=>X(o),disabled:f.value||!m.value[o-1],class:Oe(["bg-white rounded-lg border-2 border-medieval-bronze w-14 h-14 sm:w-20 sm:h-20 flex flex-col items-center justify-center hover:bg-amber-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{"border-medieval-gold bg-medieval-bronze shadow-md":m.value[o-1],"border-medieval-bronze bg-white":!m.value[o-1]}])},[m.value[o-1]?(i(),d("div",gs,[e("img",{src:m.value[o-1].item.image_path,alt:m.value[o-1].item.name,class:"w-6 h-6 sm:w-8 sm:h-8 mb-1"},null,8,hs),e("span",ps,l(m.value[o-1].quantity)+"x",1),e("div",_s,"[F"+l(o)+"]",1)])):(i(),d("div",ys,[e("span",ws,"F"+l(o),1),t[27]||(t[27]=e("span",{class:"text-medieval-stone text-xs font-semibold"},"Vazio",-1))]))],10,fs),m.value[o-1]?(i(),d("div",ks,[e("div",js,l(m.value[o-1].item.name),1),(i(!0),d(P,null,O(m.value[o-1].item.effects,k=>(i(),d("div",{key:k.id,class:"text-green-400"},l(qe(k)),1))),128)),e("div",Es,"Quantidade: "+l(m.value[o-1].quantity),1),t[28]||(t[28]=e("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"},null,-1))])):g("",!0)])),64))])]),t[30]||(t[30]=Pe('<div class="flex-1" data-v-27bbcdf1><h3 class="text-sm subtitle-medieval mb-2 text-medieval-gold text-center" data-v-27bbcdf1>Habilidades</h3><div class="flex justify-center" data-v-27bbcdf1><div class="bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-2 sm:p-3 text-center opacity-75 h-12 sm:h-16 flex items-center justify-center w-full max-w-xs" data-v-27bbcdf1><div class="text-gray-500" data-v-27bbcdf1><div class="text-sm sm:text-lg mb-1" data-v-27bbcdf1>ğŸš§</div><div class="font-medium text-xs sm:text-sm" data-v-27bbcdf1>Em Breve</div></div></div></div></div>',1))])]))])]),A.value?(i(),d("div",$s,[e("div",{class:Oe(["card-medieval p-3 max-w-sm",{"border-green-500 bg-green-50":E.value==="success","border-red-500 bg-red-50":E.value==="error","border-blue-500 bg-blue-50":E.value==="info"}])},[e("div",Ts,[e("div",Ss,[E.value==="success"?(i(),d("span",As,"ğŸ§ª")):E.value==="error"?(i(),d("span",Cs,"âŒ")):(i(),d("span",Ps,"â„¹ï¸"))]),e("div",Os,[e("p",Ns,l(z.value),1)]),e("button",{onClick:t[2]||(t[2]=o=>A.value=!1),class:"text-medieval-stone hover:text-medieval-dark"}," Ã— ")])],2)])):g("",!0)])):g("",!0),e("main",qs,[e("div",Bs,[e("div",Rs,[t[37]||(t[37]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Seu Personagem",-1)),e("div",Vs,[e("div",zs,[t[32]||(t[32]=e("div",{class:"text-2xl mb-2"},"âš”ï¸",-1)),e("h4",Fs,l((_e=x.character)==null?void 0:_e.name),1),e("p",Hs,"NÃ­vel "+l((ye=x.character)==null?void 0:ye.level),1)]),e("div",Ls,[t[33]||(t[33]=e("div",{class:"text-2xl mb-2"},"â¤ï¸",-1)),e("h4",Xs,l((we=x.character)==null?void 0:we.current_hp)+"/"+l((ke=x.character)==null?void 0:ke.max_hp),1),t[34]||(t[34]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Vida",-1))]),e("div",Ds,[t[35]||(t[35]=e("div",{class:"text-2xl mb-2"},"âš¡",-1)),e("h4",Ms,l((je=x.character)==null?void 0:je.current_stamina)+"/"+l((Ee=x.character)==null?void 0:Ee.max_stamina),1),t[36]||(t[36]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Stamina",-1))])])]),e("div",Is,[t[46]||(t[46]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Escolha seu Oponente",-1)),e("div",Us,[(i(!0),d(P,null,O(x.monsters,o=>{var k,$e,Te,Se,Ae,Ce;return i(),d("div",{key:o.id,class:"bg-white rounded-lg border-2 border-gray-200 p-4 hover:border-medieval-gold transition-colors"},[e("div",Ks,[o.image_path?(i(),d("img",{key:0,src:o.image_path,alt:o.name,class:"w-16 h-16 object-contain",onError:U},null,40,Gs)):(i(),d("div",Ws,l(o.image),1))]),e("h4",Js,l(o.name),1),e("p",Qs,l(o.description),1),e("div",Ys,[e("div",Zs,[t[38]||(t[38]=e("span",null,"NÃ­vel:",-1)),e("span",ea,l(o.level),1)]),e("div",ta,[t[39]||(t[39]=e("span",null,"HP:",-1)),e("span",sa,l(o.max_hp),1)]),e("div",aa,[t[40]||(t[40]=e("span",null,"Ataque:",-1)),e("span",la,l(o.attack_power),1)]),e("div",oa,[t[41]||(t[41]=e("span",null,"Defesa:",-1)),e("span",ra,l(o.defense),1)]),e("div",da,[t[42]||(t[42]=e("span",null,"Velocidade:",-1)),e("span",ia,l(o.speed),1)])]),e("div",na,[e("div",ca,[e("div",ua,[t[43]||(t[43]=e("span",{class:"text-yellow-600"},"ğŸª™ Gold:",-1)),e("span",va,l(H(o.gold_reward)),1)]),e("div",ma,[t[44]||(t[44]=e("span",{class:"text-blue-600"},"â­ EXP:",-1)),e("span",ba,l(H(o.exp_reward)),1)]),e("div",xa,[t[45]||(t[45]=e("span",{class:"text-purple-600"},"âš¡ Stamina:",-1)),e("span",fa,l(o.stamina_cost||10),1)])])]),e("button",{onClick:pa=>D(o),disabled:o.level>(((k=x.character)==null?void 0:k.level)||0)+2||((($e=x.character)==null?void 0:$e.current_stamina)||0)<(o.stamina_cost||10)||(((Te=x.character)==null?void 0:Te.current_hp)||0)<=0,class:"w-full btn-medieval text-sm py-2 disabled:opacity-50 disabled:cursor-not-allowed"},l(o.level>(((Se=x.character)==null?void 0:Se.level)||0)+2?"Muito Forte":(((Ae=x.character)==null?void 0:Ae.current_hp)||0)<=0?"Morto":(((Ce=x.character)==null?void 0:Ce.current_stamina)||0)<(o.stamina_cost||10)?"Sem Stamina":"Batalhar"),9,ga)])}),128))])])])]),t[47]||(t[47]=e("footer",{class:"bg-medieval-dark text-medieval-stone text-center py-4"},[e("p",null,"Â© 2025 Chronicles of Eldoria. Todos os direitos reservados.")],-1))])}}},wa=Je(ha,[["__scopeId","data-v-27bbcdf1"]]);export{wa as default};
