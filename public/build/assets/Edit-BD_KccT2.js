import{f as T,g as D,o as a,w as _,b as e,a as N,u as o,l as S,d as f,i as L,j as c,c as i,e as p,n as b,v as y,t as n,F as g,r as v,k}from"./app-BAeMEX1w.js";import{_ as P}from"./AdminLayout-DUtxSjzB.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"py-12"},O={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},$={class:"mb-8"},H={class:"flex items-center"},K={class:"card-medieval"},Q={class:"p-6"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},X={key:0,class:"mt-1 text-sm text-red-600"},Y=["value"],Z={key:0,class:"mt-1 text-sm text-red-600"},ee=["value"],te={key:0,class:"mt-1 text-sm text-red-600"},se={key:0,class:"mb-3"},oe=["src","alt"],re={key:1,class:"mt-1 text-sm text-red-600"},ae={class:"mt-6"},ie={key:0,class:"mt-1 text-sm text-red-600"},le={class:"card-medieval"},ne={class:"p-6"},de={key:0,class:"space-y-4"},me={class:"flex justify-between items-center mb-3"},ue={class:"font-medium text-gray-900"},fe=["onClick"],ce={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},pe=["onUpdate:modelValue"],be=["value"],ye=["onUpdate:modelValue"],ge=["onUpdate:modelValue"],ve={key:1,class:"text-center py-8 text-gray-500"},xe={class:"flex justify-end space-x-4"},_e=["disabled"],ke={key:0,class:"fas fa-spinner fa-spin mr-2"},we={key:1,class:"fas fa-save mr-2"},he={__name:"Edit",props:{item:Object,types:Array,rarities:Array,effect_types:Object},setup(d){var w,h,V,z,E,C;const u=d,s=T({name:((w=u.item)==null?void 0:w.name)||"",description:((h=u.item)==null?void 0:h.description)||"",type:((V=u.item)==null?void 0:V.type)||"potion",rarity:((z=u.item)==null?void 0:z.rarity)||"common",image_path:null,effects:((C=(E=u.item)==null?void 0:E.effects)==null?void 0:C.map(l=>({effect_type:l.effect_type,effect_value:l.effect_value,effect_duration:l.effect_duration})))||[]}),q=()=>{s.effects.push({effect_type:"",effect_value:"",effect_duration:""})},B=l=>{s.effects.splice(l,1)},F=()=>{var l;(l=u.item)!=null&&l.uuid&&s.post(route("admin.items.update",u.item.uuid))},G=l=>({potion:"Poção",weapon:"Arma",armor:"Armadura",accessory:"Acessório",material:"Material"})[l]||l,M=l=>({common:"Comum",uncommon:"Incomum",rare:"Raro",epic:"Épico",legendary:"Lendário"})[l]||l;return(l,t)=>(a(),D(P,null,{default:_(()=>{var I,U,A;return[e("div",J,[e("div",O,[e("div",$,[e("div",H,[N(o(S),{href:l.route("admin.items.show",(I=d.item)==null?void 0:I.uuid),class:"text-medieval-bronze hover:text-medieval-gold mr-4"},{default:_(()=>[...t[5]||(t[5]=[e("i",{class:"fas fa-arrow-left mr-2"},null,-1),f(" Voltar ",-1)])]),_:1},8,["href"]),t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-bold text-medieval-bronze"},[e("i",{class:"fas fa-edit mr-3"}),f(" Editar Item ")]),e("p",{class:"mt-2 text-gray-600"},"Edite as informações do item")],-1))])]),e("form",{onSubmit:L(F,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[e("div",K,[e("div",Q,[t[14]||(t[14]=e("h3",{class:"text-lg font-semibold text-medieval-bronze mb-4"},[e("i",{class:"fas fa-info-circle mr-2"}),f(" Informações Básicas ")],-1)),e("div",W,[e("div",null,[t[7]||(t[7]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Nome do Item * ",-1)),c(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=r=>o(s).name=r),type:"text",required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":o(s).errors.name}])},null,2),[[y,o(s).name]]),o(s).errors.name?(a(),i("p",X,n(o(s).errors.name),1)):p("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700 mb-2"}," Tipo * ",-1)),c(e("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=r=>o(s).type=r),required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":o(s).errors.type}])},[(a(!0),i(g,null,v(d.types,r=>(a(),i("option",{key:r,value:r},n(G(r)),9,Y))),128))],2),[[k,o(s).type]]),o(s).errors.type?(a(),i("p",Z,n(o(s).errors.type),1)):p("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"rarity",class:"block text-sm font-medium text-gray-700 mb-2"}," Raridade * ",-1)),c(e("select",{id:"rarity","onUpdate:modelValue":t[2]||(t[2]=r=>o(s).rarity=r),required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":o(s).errors.rarity}])},[(a(!0),i(g,null,v(d.rarities,r=>(a(),i("option",{key:r,value:r},n(M(r)),9,ee))),128))],2),[[k,o(s).rarity]]),o(s).errors.rarity?(a(),i("p",te,n(o(s).errors.rarity),1)):p("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{for:"image_path",class:"block text-sm font-medium text-gray-700 mb-2"}," Imagem do Item ",-1)),(U=d.item)!=null&&U.image_path?(a(),i("div",se,[t[10]||(t[10]=e("p",{class:"text-sm text-gray-600 mb-2"},"Imagem atual:",-1)),e("img",{src:d.item.image_path,alt:d.item.name,class:"h-16 w-16 rounded-full object-cover"},null,8,oe)])):p("",!0),e("input",{id:"image_path",onChange:t[3]||(t[3]=r=>o(s).image_path=r.target.files[0]),type:"file",accept:"image/*",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":o(s).errors.image_path}])},null,34),o(s).errors.image_path?(a(),i("p",re,n(o(s).errors.image_path),1)):p("",!0),t[12]||(t[12]=e("p",{class:"mt-1 text-xs text-gray-500"}," Formatos aceitos: JPEG, PNG, JPG, GIF, SVG (máx. 2MB) ",-1))])]),e("div",ae,[t[13]||(t[13]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Descrição ",-1)),c(e("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=r=>o(s).description=r),rows:"4",class:b(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent",{"border-red-500":o(s).errors.description}])},null,2),[[y,o(s).description]]),o(s).errors.description?(a(),i("p",ie,n(o(s).errors.description),1)):p("",!0)])])]),e("div",le,[e("div",ne,[e("div",{class:"flex justify-between items-center mb-4"},[t[16]||(t[16]=e("h3",{class:"text-lg font-semibold text-medieval-bronze"},[e("i",{class:"fas fa-magic mr-2"}),f(" Efeitos do Item ")],-1)),e("button",{type:"button",onClick:q,class:"btn-medieval bg-medieval-gold hover:bg-medieval-bronze text-white"},[...t[15]||(t[15]=[e("i",{class:"fas fa-plus mr-2"},null,-1),f(" Adicionar Efeito ",-1)])])]),o(s).effects.length>0?(a(),i("div",de,[(a(!0),i(g,null,v(o(s).effects,(r,x)=>(a(),i("div",{key:x,class:"bg-gray-50 p-4 rounded-lg"},[e("div",me,[e("h4",ue,"Efeito "+n(x+1),1),e("button",{type:"button",onClick:m=>B(x),class:"text-red-600 hover:text-red-800"},[...t[17]||(t[17]=[e("i",{class:"fas fa-trash"},null,-1)])],8,fe)]),e("div",ce,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tipo do Efeito * ",-1)),c(e("select",{"onUpdate:modelValue":m=>r.effect_type=m,required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},[t[18]||(t[18]=e("option",{value:""},"Selecione um tipo",-1)),(a(!0),i(g,null,v(d.effect_types,(m,j)=>(a(),i("option",{key:j,value:j},n(m),9,be))),128))],8,pe),[[k,r.effect_type]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Valor * ",-1)),c(e("input",{"onUpdate:modelValue":m=>r.effect_value=m,type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},null,8,ye),[[y,r.effect_value,void 0,{number:!0}]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Duração (turnos) ",-1)),c(e("input",{"onUpdate:modelValue":m=>r.effect_duration=m,type:"number",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-medieval-bronze focus:border-transparent"},null,8,ge),[[y,r.effect_duration,void 0,{number:!0}]])])])]))),128))])):(a(),i("div",ve,[...t[22]||(t[22]=[e("i",{class:"fas fa-magic text-4xl mb-4"},null,-1),e("p",null,"Nenhum efeito adicionado ainda.",-1),e("p",{class:"text-sm"},'Clique em "Adicionar Efeito" para começar.',-1)])]))])]),e("div",xe,[N(o(S),{href:l.route("admin.items.show",(A=d.item)==null?void 0:A.uuid),class:"btn-medieval bg-gray-600 hover:bg-gray-700 text-white"},{default:_(()=>[...t[23]||(t[23]=[f(" Cancelar ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:o(s).processing,class:"btn-medieval bg-medieval-gold hover:bg-medieval-bronze text-white disabled:opacity-50"},[o(s).processing?(a(),i("i",ke)):(a(),i("i",we)),f(" "+n(o(s).processing?"Salvando...":"Salvar Alterações"),1)],8,_e)])],32)])])]}),_:1}))}},Ce=R(he,[["__scopeId","data-v-d4cf3b6f"]]);export{Ce as default};
