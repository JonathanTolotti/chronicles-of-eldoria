import{m as Re,p as x,q as Ve,s as Fe,g as i,o as n,b as e,i as h,a as He,w as Le,f as Xe,d as De,l as Me,x as Ce,t as l,y as B,F as P,z as O,k as Ie,v as Ue,n as Ae,A as Ke}from"./app-CGaXy4yO.js";import{_ as Ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";const We={class:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100"},Je={class:"bg-medieval-dark text-medieval-gold shadow-lg"},Qe={class:"container mx-auto px-4 py-4"},Ye={class:"flex justify-between items-center"},Ze={class:"flex-1 flex justify-end space-x-4"},et={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-1 sm:p-4"},tt={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto"},st={class:"bg-gradient-to-br from-medieval-gold via-yellow-400 to-medieval-bronze text-medieval-dark px-8 py-8 rounded-xl shadow-2xl max-w-2xl w-full mx-4 border-4 border-medieval-dark transform transition-all duration-1000 ease-out animate-level-up"},at={class:"text-center mb-6 relative z-10"},lt={class:"text-3xl sm:text-4xl font-bold text-medieval whitespace-nowrap"},ot={class:"text-center relative z-10"},rt={class:"bg-white rounded-lg shadow-2xl max-w-6xl w-full h-[98vh] sm:h-[90vh] flex flex-col"},it={class:"p-1 sm:p-4 flex-1 flex flex-col overflow-hidden"},nt={class:"mb-2"},dt={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 sm:gap-2"},ct={class:"bg-gray-50 rounded-lg p-2 sm:p-3"},ut={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},vt={class:"flex items-center space-x-1 sm:space-x-2"},mt={class:"flex-1 space-y-1"},xt={class:"flex justify-between text-xs mb-1"},bt={class:"text-red-600 font-semibold text-xs"},ft={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},ht={class:"flex justify-between text-xs mb-1"},gt={class:"text-blue-600 font-semibold text-xs"},pt={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},_t={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},yt={class:"flex justify-between"},wt={class:"font-semibold text-medieval-gold"},kt={class:"flex justify-between"},jt={class:"font-semibold text-green-600"},Et={class:"bg-red-50 rounded-lg p-2 sm:p-3"},$t={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},Tt={class:"flex items-center space-x-1 sm:space-x-2"},St={class:"flex-shrink-0"},Ct=["src","alt"],At={key:1,class:"w-10 h-10 sm:w-14 sm:h-14 bg-gray-300 rounded-lg flex items-center justify-center text-lg sm:text-xl"},Pt={class:"flex-1 space-y-1"},Ot={class:"flex justify-between text-xs mb-1"},Nt={class:"text-red-600 font-semibold text-xs"},qt={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},zt={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},Bt={class:"flex justify-between"},Rt={class:"font-semibold text-medieval-gold"},Vt={class:"flex justify-between"},Ft={class:"font-semibold text-orange-600"},Ht={class:"flex justify-between"},Lt={class:"font-semibold text-blue-600"},Xt={class:"flex justify-between"},Dt={class:"font-semibold text-green-600"},Mt={class:"mb-1 sm:mb-2 flex-1 flex flex-col min-h-0 max-h-32 sm:max-h-48"},It={class:"bg-gray-900 text-green-400 p-2 sm:p-4 rounded-lg flex-1 overflow-y-auto font-mono text-xs sm:text-sm battle-log min-h-0"},Ut={key:0,class:"text-gray-500"},Kt={key:0,class:"border-t border-gray-200 pt-1 sm:pt-2"},Gt={class:"text-center"},Wt={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-1 sm:p-2 mb-2 sm:mb-3"},Jt={key:1,class:"flex items-center justify-center mb-2 sm:mb-3"},Qt={class:"flex items-center space-x-1 sm:space-x-2 cursor-pointer"},Yt={class:"flex flex-row justify-center gap-1 sm:gap-2"},Zt=["disabled"],es=["disabled"],ts={key:1,class:"border-t border-gray-200 pt-3 sm:pt-4"},ss={class:"text-center"},as={class:"text-base sm:text-lg text-medieval mb-3 sm:mb-4 font-semibold"},ls={key:0,class:"bg-green-50 border border-green-200 p-2 sm:p-4 rounded-lg mb-3 sm:mb-4"},os={class:"flex justify-center space-x-4 sm:space-x-6 text-xs sm:text-sm"},rs={class:"text-yellow-600 font-semibold"},is={class:"text-blue-600 font-semibold"},ns={key:2,class:"border-t border-medieval-bronze pt-3"},ds={class:"flex flex-col sm:flex-row gap-3"},cs={class:"flex-1"},us={class:"flex justify-center gap-1 sm:gap-2"},vs=["data-slot","onClick","disabled"],ms={key:0,class:"flex flex-col items-center justify-center h-full"},xs=["src","alt"],bs={class:"text-xs text-medieval font-semibold"},fs={class:"text-xs text-medieval-gold font-semibold"},hs={key:1,class:"flex flex-col items-center justify-center h-full"},gs={class:"text-medieval-stone text-xs font-semibold"},ps={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap"},_s={class:"font-semibold text-medieval-gold mb-1"},ys={class:"text-gray-400 mt-1"},ws={key:1,class:"fixed top-4 right-4 z-50 animate-fade-in"},ks={class:"flex items-center space-x-3"},js={class:"text-xl"},Es={key:0},$s={key:1},Ts={key:2},Ss={class:"flex-1"},Cs={class:"text-sm font-semibold text-medieval-dark"},As={class:"flex-1 p-4"},Ps={class:"max-w-6xl mx-auto"},Os={class:"card-medieval mb-6"},Ns={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},qs={class:"text-center"},zs={class:"font-semibold text-medieval"},Bs={class:"text-sm text-medieval-stone"},Rs={class:"text-center"},Vs={class:"font-semibold text-red-600"},Fs={class:"text-center"},Hs={class:"font-semibold text-blue-600"},Ls={class:"card-medieval"},Xs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ds={class:"mb-2 flex justify-center"},Ms=["src","alt"],Is={key:1,class:"text-4xl"},Us={class:"font-semibold text-lg text-medieval text-center mb-2"},Ks={class:"text-sm text-medieval-stone text-center mb-3"},Gs={class:"space-y-1 text-xs text-medieval mb-4"},Ws={class:"flex justify-between"},Js={class:"font-semibold text-medieval-gold"},Qs={class:"flex justify-between"},Ys={class:"font-semibold text-red-600"},Zs={class:"flex justify-between"},ea={class:"font-semibold text-orange-600"},ta={class:"flex justify-between"},sa={class:"font-semibold text-blue-600"},aa={class:"flex justify-between"},la={class:"font-semibold text-green-600"},oa={class:"bg-gray-50 p-2 rounded mb-3"},ra={class:"text-xs text-center space-y-1"},ia={class:"flex justify-between"},na={class:"font-semibold"},da={class:"flex justify-between"},ca={class:"font-semibold"},ua={class:"flex justify-between"},va={class:"font-semibold"},ma=["onClick","disabled"],xa={__name:"Index",props:{character:Object,monsters:Array},setup(f){const $=f,T=Re(),N=x(!1),u=x(null),S=x(null),y=x([]),g=x(!1),w=x(null),b=x(!1),p=x(!1),j=x(null),m=x([null,null,null,null]),C=x(!1),R=x(""),E=x("success"),c=x({...$.character}),q=x(!1),V=x(""),Pe=s=>{V.value=`ğŸ‰ NOVO NÃVEL ${s}! ğŸ‰`,q.value=!0};console.log("Props character inicial:",$.character),console.log("CharacterData inicial:",c.value);const F=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),Oe=s=>{switch(s.effect_type){case"heal_hp":return`+${s.effect_value} HP`;case"restore_stamina":return`+${s.effect_value} Stamina`;case"restore_mp":return`+${s.effect_value} MP`;case"buff_strength":return`+${s.effect_value} ForÃ§a`;case"buff_dexterity":return`+${s.effect_value} Destreza`;case"buff_constitution":return`+${s.effect_value} ConstituiÃ§Ã£o`;case"buff_intelligence":return`+${s.effect_value} InteligÃªncia`;case"buff_luck":return`+${s.effect_value} Sorte`;default:return`${s.effect_type}: +${s.effect_value}`}},z=(s,t="success")=>{R.value=s,E.value=t,C.value=!0,setTimeout(()=>{C.value=!1},3e3)},H=async()=>{try{const s=await fetch("/api/items/hotkeys",{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(s.ok){const t=await s.json();if(console.log("Hotkeys recebidos na batalha:",t.hotkeys),t.success&&t.hotkeys){const r=[null,null,null,null];for(let a=1;a<=4;a++)t.hotkeys[a]&&(r[a-1]=t.hotkeys[a]);m.value=r,console.log("Hotkeys processados na batalha:",m.value)}else m.value=[null,null,null,null]}}catch(s){console.error("Erro ao carregar hotkeys:",s),m.value=[null,null,null,null]}},L=async s=>{var t;if(!(!m.value[s-1]||b.value)){m.value[s-1];try{const r=await fetch("/api/items/use-hotkey",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":T.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({slot:s})});if(r.ok){const a=await r.json();if(a.success){a.character&&(c.value={...c.value,...a.character},Object.keys(a.character).forEach(_=>{$.character[_]=a.character[_]})),await Ke(),await H(),v(`ğŸ§ª ${a.message}`),z(a.message,"success");const d=document.querySelector(`[data-slot="${s}"]`);d&&(d.classList.add("animate-pulse","bg-green-100","border-green-400"),setTimeout(()=>{d.classList.remove("animate-pulse","bg-green-100","border-green-400")},1e3))}else v(`âŒ ${a.message}`),z(a.message,"error")}}catch{v("âŒ Erro ao usar poÃ§Ã£o"),z("Erro ao usar poÃ§Ã£o","error")}}},X=async s=>{var t;try{const r=T.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",a=await fetch(route("battle.start"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({monster_id:s.id})});if(!a.ok){const _=await a.json();if(console.error("Erro ao iniciar batalha:",_),_.error){v(`âŒ ${_.error}`);return}throw new Error(`HTTP error! status: ${a.status}`)}const d=await a.json();Object.assign($.character,d.character),Object.assign(c.value,d.character),u.value=d.monster,S.value=d.battle_instance_id,N.value=!0,y.value=[],g.value=!1,w.value=null,b.value=!1,console.log("Battle setup:",{battle_instance_id:d.battle_instance_id,monster_hp:d.monster.current_hp,is_continuing:d.is_continuing_battle}),d.is_continuing_battle?v(`Continuando batalha contra ${s.name}! (HP: ${d.monster.current_hp}/${d.monster.max_hp})`):v(`Batalha iniciada contra ${s.name}!`)}catch(r){console.error("Erro ao iniciar batalha:",r),v("âŒ Erro ao iniciar batalha!")}},D=()=>{A(),N.value=!1,u.value=null,S.value=null,y.value=[],g.value=!1,w.value=null,b.value=!1,p.value=!1},Ne=async()=>{u.value&&await X(u.value)},v=s=>{y.value.push(`[${new Date().toLocaleTimeString()}] ${s}`),y.value.length>20&&(y.value=y.value.slice(-20)),setTimeout(()=>{const t=document.querySelector(".battle-log");t&&(t.scrollTop=t.scrollHeight)},100)},qe=()=>{p.value?ze():A()},ze=()=>{j.value&&clearInterval(j.value),v("ğŸ¤– Batalha automÃ¡tica ativada!"),j.value=setInterval(()=>{var s;!g.value&&!b.value&&(((s=c.value)==null?void 0:s.current_hp)||0)>0?M():g.value&&A()},3e3)},A=()=>{j.value&&(clearInterval(j.value),j.value=null),p.value&&(v("â¹ï¸ Batalha automÃ¡tica desativada!"),p.value=!1)},M=async()=>{var s;if(!(b.value||!u.value)){b.value=!0,v("VocÃª atacou!");try{const t=T.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",r=await fetch(route("battle.attack"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:S.value})});if(!r.ok){const d=await r.json();if(console.error("Erro na resposta:",d),d.error&&d.error.includes("Stamina insuficiente")){v(`âŒ ${d.error}`);return}throw new Error(`HTTP error! status: ${r.status} - ${d.error||"Erro desconhecido"}`)}const a=await r.json();console.log("Dados recebidos:",a),Object.assign($.character,a.character),Object.assign(c.value,a.character),Object.assign(u.value,a.monster),a.attack_result&&v(a.attack_result.message),a.monster_attack_result&&v(a.monster_attack_result.message),a.battle_over&&(g.value=!0,w.value=a.result,p.value=!1,a.leveled_up&&a.new_level&&(Pe(a.new_level),v(`ğŸ‰ LEVEL UP! VocÃª subiu para o nÃ­vel ${a.new_level}! ğŸ‰`)),a.result.winner==="character"?v(`[VITÃ“RIA] VocÃª derrotou o monstro! Ganhou ${a.result.gold_reward} gold e ${a.result.exp_reward} EXP!`):a.result.winner==="monster"?v("[DERROTA] VocÃª foi derrotado pelo monstro!"):a.result.winner==="fled"&&v("[FUGA] VocÃª fugiu da batalha!"))}catch(t){console.error("Erro ao atacar:",t),v("âŒ Erro ao executar ataque!")}finally{b.value=!1}}},Be=async()=>{var s;if(!b.value){b.value=!0;try{const t=T.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",r=await fetch(route("battle.flee"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:S.value})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();g.value=!0,w.value=a.result,v(a.result.message)}catch(t){console.error("Erro ao fugir:",t),v("âŒ Erro ao tentar fugir!")}finally{b.value=!1}}},I=s=>{s.target.style.display="none";const t=s.target.nextElementSibling;t&&(t.style.display="flex")},U=s=>{if(g.value||b.value)return;const t=s.key;let r=null;switch(t){case"F1":r=1;break;case"F2":r=2;break;case"F3":r=3;break;case"F4":r=4;break;default:return}s.preventDefault(),m.value[r-1]&&L(r)};return Ve(()=>{H(),document.addEventListener("keydown",U)}),Fe(()=>{A(),document.removeEventListener("keydown",U)}),(s,t)=>{var r,a,d,_,K,G,W,J,Q,Y,Z,ee,te,se,ae,le,oe,re,ie,ne,de,ce,ue,ve,me,xe,be,fe,he,ge,pe,_e,ye,we,ke;return n(),i("div",We,[e("header",Je,[e("div",Qe,[e("div",Ye,[t[4]||(t[4]=e("div",{class:"flex-1"},[e("h1",{class:"text-2xl font-bold title-medieval"},"Chronicles of Eldoria")],-1)),t[5]||(t[5]=e("div",{class:"flex-1 text-center"},[e("h2",{class:"text-lg font-medieval"},"Arena de Batalha")],-1)),e("div",Ze,[He(De(Me),{href:s.route("dashboard"),class:"btn-medieval text-sm px-4 py-2 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark"},{default:Le(()=>[...t[3]||(t[3]=[Xe(" Voltar ao Dashboard ",-1)])]),_:1},8,["href"])])])])]),N.value?(n(),i("div",et,[q.value?(n(),i("div",tt,[e("div",st,[t[6]||(t[6]=e("div",{class:"absolute inset-0 rounded-xl border-2 border-medieval-gold/50"},null,-1)),e("div",at,[e("div",lt,l(V.value),1)]),t[7]||(t[7]=Ce('<div class="w-full h-1 bg-gradient-to-r from-transparent via-medieval-dark to-transparent mb-6" data-v-ea8f597e></div><div class="bg-medieval-dark/30 rounded-xl p-6 border-2 border-medieval-bronze/50 relative z-10 mb-6" data-v-ea8f597e><h4 class="text-2xl font-bold text-medieval-dark mb-6 text-center" data-v-ea8f597e> ğŸ° Recompensas de NÃ­vel ğŸ° </h4><div class="grid grid-cols-4 gap-4 mb-6" data-v-ea8f597e><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-ea8f597e><div class="text-4xl mb-2" data-v-ea8f597e>âš”ï¸</div><div class="text-sm font-semibold text-gray-900" data-v-ea8f597e>Arma Ã‰pica</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-ea8f597e><div class="text-3xl text-white" data-v-ea8f597e>ğŸ”’</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-ea8f597e><div class="text-4xl mb-2" data-v-ea8f597e>ğŸ›¡ï¸</div><div class="text-sm font-semibold text-gray-900" data-v-ea8f597e>Armadura</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-ea8f597e><div class="text-3xl text-white" data-v-ea8f597e>ğŸ”’</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-ea8f597e><div class="text-4xl mb-2" data-v-ea8f597e>ğŸ’</div><div class="text-sm font-semibold text-gray-900" data-v-ea8f597e>Gema Rara</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-ea8f597e><div class="text-3xl text-white" data-v-ea8f597e>ğŸ”’</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-ea8f597e><div class="text-4xl mb-2" data-v-ea8f597e>ğŸ“œ</div><div class="text-sm font-semibold text-gray-900" data-v-ea8f597e>Pergaminho</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-ea8f597e><div class="text-3xl text-white" data-v-ea8f597e>ğŸ”’</div></div></div></div><div class="text-center" data-v-ea8f597e><p class="text-lg text-medieval-dark font-semibold mb-2" data-v-ea8f597e> ğŸš§ Sistema em Desenvolvimento ğŸš§ </p><p class="text-sm text-medieval-dark" data-v-ea8f597e> Em breve vocÃª receberÃ¡ recompensas especiais ao subir de nÃ­vel! </p></div></div>',2)),e("div",ot,[e("button",{onClick:t[0]||(t[0]=o=>q.value=!1),class:"bg-medieval-dark hover:bg-medieval-bronze text-medieval-gold font-bold py-3 px-8 rounded-lg border-2 border-medieval-bronze transition-all duration-200 hover:scale-105 shadow-lg"}," Fechar ")]),t[8]||(t[8]=e("div",{class:"absolute top-2 left-2 w-6 h-6 border-l-4 border-t-4 border-medieval-dark rounded-tl-lg"},null,-1)),t[9]||(t[9]=e("div",{class:"absolute top-2 right-2 w-6 h-6 border-r-4 border-t-4 border-medieval-dark rounded-tr-lg"},null,-1)),t[10]||(t[10]=e("div",{class:"absolute bottom-2 left-2 w-6 h-6 border-l-4 border-b-4 border-medieval-dark rounded-bl-lg"},null,-1)),t[11]||(t[11]=e("div",{class:"absolute bottom-2 right-2 w-6 h-6 border-r-4 border-b-4 border-medieval-dark rounded-br-lg"},null,-1))])])):h("",!0),e("div",rt,[e("div",{class:"bg-medieval-dark text-medieval-gold p-2 rounded-t-lg"},[e("div",{class:"flex justify-between items-center"},[t[12]||(t[12]=e("h3",{class:"text-sm font-bold title-medieval"},"Combate",-1)),e("button",{onClick:D,class:"text-medieval-gold hover:text-white text-lg p-1"}," Ã— ")])]),e("div",it,[e("div",nt,[e("div",dt,[e("div",ct,[e("h4",ut,l((r=c.value)==null?void 0:r.name),1),e("div",vt,[t[17]||(t[17]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 sm:w-14 sm:h-14 bg-medieval-bronze rounded-lg flex items-center justify-center text-lg sm:text-xl"}," âš”ï¸ ")],-1)),e("div",mt,[e("div",null,[e("div",xt,[t[13]||(t[13]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",bt,l((a=c.value)==null?void 0:a.current_hp)+"/"+l((d=c.value)==null?void 0:d.max_hp),1)]),e("div",ft,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:B({width:(_=c.value)!=null&&_.max_hp?`${(((K=c.value)==null?void 0:K.current_hp)||0)/c.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",null,[e("div",ht,[t[14]||(t[14]=e("span",{class:"text-medieval"},"Stamina:",-1)),e("span",gt,l((G=c.value)==null?void 0:G.current_stamina)+"/"+l((W=c.value)==null?void 0:W.max_stamina),1)]),e("div",pt,[e("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:B({width:(J=c.value)!=null&&J.max_stamina?`${(((Q=c.value)==null?void 0:Q.current_stamina)||0)/c.value.max_stamina*100}%`:"0%"})},null,4)])]),e("div",_t,[e("div",yt,[t[15]||(t[15]=e("span",null,"NÃ­vel:",-1)),e("span",wt,l((Y=c.value)==null?void 0:Y.level),1)]),e("div",kt,[t[16]||(t[16]=e("span",null,"Poder:",-1)),e("span",jt,l((Z=c.value)==null?void 0:Z.power),1)])])])])]),e("div",Et,[e("h4",$t,l((ee=u.value)==null?void 0:ee.name),1),e("div",Tt,[e("div",St,[(te=u.value)!=null&&te.image_path?(n(),i("img",{key:0,src:u.value.image_path,alt:u.value.name,class:"w-10 h-10 sm:w-14 sm:h-14 object-contain",onError:I},null,40,Ct)):(n(),i("div",At,l((se=u.value)==null?void 0:se.image),1))]),e("div",Pt,[e("div",null,[e("div",Ot,[t[18]||(t[18]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",Nt,l((ae=u.value)==null?void 0:ae.current_hp)+"/"+l((le=u.value)==null?void 0:le.max_hp),1)]),e("div",qt,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:B({width:(oe=u.value)!=null&&oe.max_hp?`${(((re=u.value)==null?void 0:re.current_hp)||0)/u.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",zt,[e("div",Bt,[t[19]||(t[19]=e("span",null,"NÃ­vel:",-1)),e("span",Rt,l((ie=u.value)==null?void 0:ie.level),1)]),e("div",Vt,[t[20]||(t[20]=e("span",null,"Ataque:",-1)),e("span",Ft,l((ne=u.value)==null?void 0:ne.attack_power),1)]),e("div",Ht,[t[21]||(t[21]=e("span",null,"Defesa:",-1)),e("span",Lt,l((de=u.value)==null?void 0:de.defense),1)]),e("div",Xt,[t[22]||(t[22]=e("span",null,"Velocidade:",-1)),e("span",Dt,l((ce=u.value)==null?void 0:ce.speed),1)])])])])])])]),e("div",Mt,[t[23]||(t[23]=e("h3",{class:"text-xs sm:text-sm subtitle-medieval mb-1 sm:mb-2 text-medieval-gold"},"Log de Combate",-1)),e("div",It,[(n(!0),i(P,null,O(y.value,(o,k)=>(n(),i("div",{key:k,class:"mb-1 break-words"},l(o),1))),128)),y.value.length===0?(n(),i("div",Ut," A batalha comeÃ§ou! Escolha sua aÃ§Ã£o... ")):h("",!0)])]),g.value?h("",!0):(n(),i("div",Kt,[e("div",Gt,[t[26]||(t[26]=e("h3",{class:"text-xs subtitle-medieval mb-1 text-medieval-gold"},"Escolha sua AÃ§Ã£o",-1)),(((ue=c.value)==null?void 0:ue.current_hp)||0)<=0?(n(),i("div",Wt,[...t[24]||(t[24]=[e("p",{class:"text-xs text-red-800"}," ğŸ’€ VocÃª estÃ¡ morto! Precisa ser revivido para batalhar. ",-1)])])):h("",!0),(((ve=c.value)==null?void 0:ve.current_hp)||0)>0?(n(),i("div",Jt,[e("label",Qt,[Ie(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=o=>p.value=o),onChange:qe,class:"w-3 h-3 sm:w-4 sm:h-4 text-medieval-gold bg-gray-100 border-gray-300 rounded focus:ring-medieval-gold focus:ring-2"},null,544),[[Ue,p.value]]),t[25]||(t[25]=e("span",{class:"text-xs text-medieval font-medium"},"Batalha AutomÃ¡tica",-1))])])):h("",!0),e("div",Yt,[e("button",{onClick:M,disabled:b.value||(((me=c.value)==null?void 0:me.current_hp)||0)<=0||p.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"},l(b.value?"Atacando...":p.value?"ğŸ¤– AutomÃ¡tico":"Atacar"),9,Zt),e("button",{onClick:Be,disabled:b.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"}," Fugir ",8,es)])])])),t[32]||(t[32]=e("div",{class:"mb-1 sm:mb-3"},null,-1)),g.value?(n(),i("div",ts,[e("div",ss,[e("p",as,l((xe=w.value)==null?void 0:xe.message),1),((be=w.value)==null?void 0:be.winner)==="character"?(n(),i("div",ls,[t[27]||(t[27]=e("h4",{class:"font-bold text-green-800 mb-2 text-sm sm:text-base"},"Recompensas Obtidas:",-1)),e("div",os,[e("span",rs,"ğŸª™ +"+l(((fe=w.value)==null?void 0:fe.gold_reward)||0)+" Gold",1),e("span",is,"â­ +"+l(((he=w.value)==null?void 0:he.exp_reward)||0)+" EXP",1)])])):h("",!0),e("div",{class:"flex flex-col sm:flex-row justify-center gap-2"},[e("button",{onClick:Ne,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold transform hover:scale-105 transition-transform"}," Batalhar Novamente "),e("button",{onClick:D,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark transform hover:scale-105 transition-transform"}," Fechar ")])])])):h("",!0),g.value?h("",!0):(n(),i("div",ns,[e("div",ds,[e("div",cs,[t[30]||(t[30]=e("h3",{class:"text-sm subtitle-medieval mb-2 text-medieval-gold text-center"},"PoÃ§Ãµes",-1)),e("div",us,[(n(),i(P,null,O(4,o=>e("div",{key:o,class:"relative group"},[e("button",{"data-slot":o,onClick:k=>L(o),disabled:b.value||!m.value[o-1],class:Ae(["bg-white rounded-lg border-2 border-medieval-bronze w-14 h-14 sm:w-20 sm:h-20 flex flex-col items-center justify-center hover:bg-amber-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{"border-medieval-gold bg-medieval-bronze shadow-md":m.value[o-1],"border-medieval-bronze bg-white":!m.value[o-1]}])},[m.value[o-1]?(n(),i("div",ms,[e("img",{src:m.value[o-1].item.image_path,alt:m.value[o-1].item.name,class:"w-6 h-6 sm:w-8 sm:h-8 mb-1"},null,8,xs),e("span",bs,l(m.value[o-1].quantity)+"x",1),e("div",fs,"[F"+l(o)+"]",1)])):(n(),i("div",hs,[e("span",gs,"F"+l(o),1),t[28]||(t[28]=e("span",{class:"text-medieval-stone text-xs font-semibold"},"Vazio",-1))]))],10,vs),m.value[o-1]?(n(),i("div",ps,[e("div",_s,l(m.value[o-1].item.name),1),(n(!0),i(P,null,O(m.value[o-1].item.effects,k=>(n(),i("div",{key:k.id,class:"text-green-400"},l(Oe(k)),1))),128)),e("div",ys,"Quantidade: "+l(m.value[o-1].quantity),1),t[29]||(t[29]=e("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"},null,-1))])):h("",!0)])),64))])]),t[31]||(t[31]=Ce('<div class="flex-1" data-v-ea8f597e><h3 class="text-sm subtitle-medieval mb-2 text-medieval-gold text-center" data-v-ea8f597e>Habilidades</h3><div class="flex justify-center" data-v-ea8f597e><div class="bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-2 sm:p-3 text-center opacity-75 h-12 sm:h-16 flex items-center justify-center w-full max-w-xs" data-v-ea8f597e><div class="text-gray-500" data-v-ea8f597e><div class="text-sm sm:text-lg mb-1" data-v-ea8f597e>ğŸš§</div><div class="font-medium text-xs sm:text-sm" data-v-ea8f597e>Em Breve</div></div></div></div></div>',1))])]))])]),C.value?(n(),i("div",ws,[e("div",{class:Ae(["card-medieval p-3 max-w-sm",{"border-green-500 bg-green-50":E.value==="success","border-red-500 bg-red-50":E.value==="error","border-blue-500 bg-blue-50":E.value==="info"}])},[e("div",ks,[e("div",js,[E.value==="success"?(n(),i("span",Es,"ğŸ§ª")):E.value==="error"?(n(),i("span",$s,"âŒ")):(n(),i("span",Ts,"â„¹ï¸"))]),e("div",Ss,[e("p",Cs,l(R.value),1)]),e("button",{onClick:t[2]||(t[2]=o=>C.value=!1),class:"text-medieval-stone hover:text-medieval-dark"}," Ã— ")])],2)])):h("",!0)])):h("",!0),e("main",As,[e("div",Ps,[e("div",Os,[t[38]||(t[38]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Seu Personagem",-1)),e("div",Ns,[e("div",qs,[t[33]||(t[33]=e("div",{class:"text-2xl mb-2"},"âš”ï¸",-1)),e("h4",zs,l((ge=f.character)==null?void 0:ge.name),1),e("p",Bs,"NÃ­vel "+l((pe=f.character)==null?void 0:pe.level),1)]),e("div",Rs,[t[34]||(t[34]=e("div",{class:"text-2xl mb-2"},"â¤ï¸",-1)),e("h4",Vs,l((_e=f.character)==null?void 0:_e.current_hp)+"/"+l((ye=f.character)==null?void 0:ye.max_hp),1),t[35]||(t[35]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Vida",-1))]),e("div",Fs,[t[36]||(t[36]=e("div",{class:"text-2xl mb-2"},"âš¡",-1)),e("h4",Hs,l((we=f.character)==null?void 0:we.current_stamina)+"/"+l((ke=f.character)==null?void 0:ke.max_stamina),1),t[37]||(t[37]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Stamina",-1))])])]),e("div",Ls,[t[47]||(t[47]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Escolha seu Oponente",-1)),e("div",Xs,[(n(!0),i(P,null,O(f.monsters,o=>{var k,je,Ee,$e,Te,Se;return n(),i("div",{key:o.id,class:"bg-white rounded-lg border-2 border-gray-200 p-4 hover:border-medieval-gold transition-colors"},[e("div",Ds,[o.image_path?(n(),i("img",{key:0,src:o.image_path,alt:o.name,class:"w-16 h-16 object-contain",onError:I},null,40,Ms)):(n(),i("div",Is,l(o.image),1))]),e("h4",Us,l(o.name),1),e("p",Ks,l(o.description),1),e("div",Gs,[e("div",Ws,[t[39]||(t[39]=e("span",null,"NÃ­vel:",-1)),e("span",Js,l(o.level),1)]),e("div",Qs,[t[40]||(t[40]=e("span",null,"HP:",-1)),e("span",Ys,l(o.max_hp),1)]),e("div",Zs,[t[41]||(t[41]=e("span",null,"Ataque:",-1)),e("span",ea,l(o.attack_power),1)]),e("div",ta,[t[42]||(t[42]=e("span",null,"Defesa:",-1)),e("span",sa,l(o.defense),1)]),e("div",aa,[t[43]||(t[43]=e("span",null,"Velocidade:",-1)),e("span",la,l(o.speed),1)])]),e("div",oa,[e("div",ra,[e("div",ia,[t[44]||(t[44]=e("span",{class:"text-yellow-600"},"ğŸª™ Gold:",-1)),e("span",na,l(F(o.gold_reward)),1)]),e("div",da,[t[45]||(t[45]=e("span",{class:"text-blue-600"},"â­ EXP:",-1)),e("span",ca,l(F(o.exp_reward)),1)]),e("div",ua,[t[46]||(t[46]=e("span",{class:"text-purple-600"},"âš¡ Stamina:",-1)),e("span",va,l(o.stamina_cost||10),1)])])]),e("button",{onClick:ba=>X(o),disabled:o.level>(((k=f.character)==null?void 0:k.level)||0)+2||(((je=f.character)==null?void 0:je.current_stamina)||0)<(o.stamina_cost||10)||(((Ee=f.character)==null?void 0:Ee.current_hp)||0)<=0,class:"w-full btn-medieval text-sm py-2 disabled:opacity-50 disabled:cursor-not-allowed"},l(o.level>((($e=f.character)==null?void 0:$e.level)||0)+2?"Muito Forte":(((Te=f.character)==null?void 0:Te.current_hp)||0)<=0?"Morto":(((Se=f.character)==null?void 0:Se.current_stamina)||0)<(o.stamina_cost||10)?"Sem Stamina":"Batalhar"),9,ma)])}),128))])])])]),t[48]||(t[48]=e("footer",{class:"bg-medieval-dark text-medieval-stone text-center py-4"},[e("p",null,"Â© 2025 Chronicles of Eldoria. Todos os direitos reservados.")],-1))])}}},ga=Ge(xa,[["__scopeId","data-v-ea8f597e"]]);export{ga as default};
