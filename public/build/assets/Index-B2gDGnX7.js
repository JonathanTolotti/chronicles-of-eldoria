import{H as tt,m as x,B as st,C as at,c as i,o as n,b as e,e as h,a as lt,w as ot,d as rt,u as it,l as nt,I as Ge,t as l,n as z,x as R,F as P,r as O,j as dt,s as ct,J as ut}from"./app-BAeMEX1w.js";import{_ as vt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const mt={class:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100"},bt={class:"bg-medieval-dark text-medieval-gold shadow-lg"},xt={class:"container mx-auto px-4 py-4"},ft={class:"flex justify-between items-center"},ht={class:"flex-1 flex justify-end space-x-4"},gt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-1 sm:p-4"},pt={key:0,class:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-auto"},_t={class:"bg-gradient-to-br from-medieval-gold via-yellow-400 to-medieval-bronze text-medieval-dark px-8 py-8 rounded-xl shadow-2xl max-w-2xl w-full mx-4 border-4 border-medieval-dark transform transition-all duration-1000 ease-out animate-level-up"},yt={class:"text-center mb-6 relative z-10"},wt={class:"text-3xl sm:text-4xl font-bold text-medieval whitespace-nowrap"},kt={class:"text-center relative z-10"},jt={class:"bg-white rounded-lg shadow-2xl max-w-6xl w-full h-[98vh] sm:h-[90vh] flex flex-col"},Et={class:"p-1 sm:p-4 flex-1 flex flex-col overflow-hidden"},$t={class:"mb-2"},Tt={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 sm:gap-2"},St={class:"bg-gray-50 rounded-lg p-2 sm:p-3"},Ct={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},At={class:"flex items-center space-x-1 sm:space-x-2"},Pt={class:"flex-shrink-0"},Ot={class:"relative w-20 h-20 sm:w-28 sm:h-28"},Nt=["src","alt"],Bt=["src","alt"],qt={class:"flex-1 space-y-1"},zt={class:"flex justify-between text-xs mb-1"},Rt={class:"text-red-600 font-semibold text-xs"},Vt={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},Ft={class:"flex justify-between text-xs mb-1"},Ht={class:"text-blue-600 font-semibold text-xs"},Lt={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},Mt={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},Xt={class:"flex justify-between"},Dt={class:"font-semibold text-medieval-gold"},It={class:"flex justify-between"},Ut={class:"font-semibold text-green-600"},Kt={class:"bg-red-50 rounded-lg p-2 sm:p-3"},Gt={class:"subtitle-medieval text-medieval-gold mb-1 sm:mb-2 text-center text-xs sm:text-sm"},Jt={class:"flex items-center space-x-1 sm:space-x-2"},Wt={class:"flex-shrink-0"},Qt=["src","alt"],Yt={key:1,class:"w-10 h-10 sm:w-14 sm:h-14 bg-gray-300 rounded-lg flex items-center justify-center text-lg sm:text-xl"},Zt={class:"flex-1 space-y-1"},es={class:"flex justify-between text-xs mb-1"},ts={class:"text-red-600 font-semibold text-xs"},ss={class:"w-full bg-gray-300 rounded-full h-1.5 shadow-inner"},as={class:"grid grid-cols-2 gap-2 text-xs text-medieval"},ls={class:"flex justify-between"},os={class:"font-semibold text-medieval-gold"},rs={class:"flex justify-between"},is={class:"font-semibold text-orange-600"},ns={class:"flex justify-between"},ds={class:"font-semibold text-blue-600"},cs={class:"flex justify-between"},us={class:"font-semibold text-green-600"},vs={class:"mb-1 sm:mb-2 flex-1 flex flex-col min-h-0 max-h-32 sm:max-h-48"},ms={class:"bg-gray-900 text-green-400 p-2 sm:p-4 rounded-lg flex-1 overflow-y-auto font-mono text-xs sm:text-sm battle-log min-h-0"},bs={key:0,class:"text-gray-500"},xs={key:0,class:"border-t border-gray-200 pt-1 sm:pt-2"},fs={class:"text-center"},hs={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-1 sm:p-2 mb-2 sm:mb-3"},gs={key:1,class:"flex items-center justify-center mb-2 sm:mb-3"},ps={class:"flex items-center space-x-1 sm:space-x-2 cursor-pointer"},_s={class:"flex flex-row justify-center gap-1 sm:gap-2"},ys=["disabled"],ws=["disabled"],ks={key:1,class:"border-t border-gray-200 pt-3 sm:pt-4"},js={class:"text-center"},Es={class:"text-base sm:text-lg text-medieval mb-3 sm:mb-4 font-semibold"},$s={key:0,class:"bg-green-50 border border-green-200 p-2 sm:p-4 rounded-lg mb-3 sm:mb-4"},Ts={class:"flex justify-center space-x-4 sm:space-x-6 text-xs sm:text-sm"},Ss={class:"text-yellow-600 font-semibold"},Cs={class:"text-blue-600 font-semibold"},As={key:2,class:"border-t border-medieval-bronze pt-3"},Ps={class:"flex flex-col sm:flex-row gap-3"},Os={class:"flex-1"},Ns={class:"flex justify-center gap-1 sm:gap-2"},Bs=["data-slot","onClick","disabled"],qs={key:0,class:"flex flex-col items-center justify-center h-full"},zs=["src","alt"],Rs={class:"text-xs text-medieval font-semibold"},Vs={class:"text-xs text-medieval-gold font-semibold"},Fs={key:1,class:"flex flex-col items-center justify-center h-full"},Hs={class:"text-medieval-stone text-xs font-semibold"},Ls={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 whitespace-nowrap"},Ms={class:"font-semibold text-medieval-gold mb-1"},Xs={class:"text-gray-400 mt-1"},Ds={key:1,class:"fixed top-4 right-4 z-50 animate-fade-in"},Is={class:"flex items-center space-x-3"},Us={class:"text-xl"},Ks={key:0},Gs={key:1},Js={key:2},Ws={class:"flex-1"},Qs={class:"text-sm font-semibold text-medieval-dark"},Ys={class:"flex-1 p-4"},Zs={class:"max-w-6xl mx-auto"},ea={class:"card-medieval mb-6"},ta={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},sa={class:"text-center"},aa={class:"font-semibold text-medieval"},la={class:"text-sm text-medieval-stone"},oa={class:"text-center"},ra={class:"font-semibold text-red-600"},ia={class:"text-center"},na={class:"font-semibold text-blue-600"},da={class:"card-medieval"},ca={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ua={class:"mb-2 flex justify-center"},va=["src","alt"],ma={key:1,class:"text-4xl"},ba={class:"font-semibold text-lg text-medieval text-center mb-2"},xa={class:"text-sm text-medieval-stone text-center mb-3"},fa={class:"space-y-1 text-xs text-medieval mb-4"},ha={class:"flex justify-between"},ga={class:"font-semibold text-medieval-gold"},pa={class:"flex justify-between"},_a={class:"font-semibold text-red-600"},ya={class:"flex justify-between"},wa={class:"font-semibold text-orange-600"},ka={class:"flex justify-between"},ja={class:"font-semibold text-blue-600"},Ea={class:"flex justify-between"},$a={class:"font-semibold text-green-600"},Ta={class:"bg-gray-50 p-2 rounded mb-3"},Sa={class:"text-xs text-center space-y-1"},Ca={class:"flex justify-between"},Aa={class:"font-semibold"},Pa={class:"flex justify-between"},Oa={class:"font-semibold"},Na={class:"flex justify-between"},Ba={class:"font-semibold"},qa=["onClick","disabled"],za={__name:"Index",props:{character:Object,monsters:Array},setup(m){const $=m,T=tt(),V=s=>s?s.avatar_url?s.avatar_url:s.avatar?`/${`images/avatars/${s.avatar}.png`}`:"/images/avatars/default.png":"/images/avatars/default.png",N=x(!1),u=x(null),S=x(null),y=x([]),g=x(!1),w=x(null),f=x(!1),p=x(!1),j=x(null),b=x([null,null,null,null]),C=x(!1),F=x(""),E=x("success"),d=x({...$.character}),B=x(!1),H=x(""),Je=s=>{H.value=`üéâ NOVO N√çVEL ${s}! üéâ`,B.value=!0};console.log("Props character inicial:",$.character),console.log("CharacterData inicial:",d.value);const L=s=>s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":s.toString(),We=s=>{switch(s.effect_type){case"heal_hp":return`+${s.effect_value} HP`;case"restore_stamina":return`+${s.effect_value} Stamina`;case"restore_mp":return`+${s.effect_value} MP`;case"buff_strength":return`+${s.effect_value} For√ßa`;case"buff_dexterity":return`+${s.effect_value} Destreza`;case"buff_constitution":return`+${s.effect_value} Constitui√ß√£o`;case"buff_intelligence":return`+${s.effect_value} Intelig√™ncia`;case"buff_luck":return`+${s.effect_value} Sorte`;default:return`${s.effect_type}: +${s.effect_value}`}},q=(s,t="success")=>{F.value=s,E.value=t,C.value=!0,setTimeout(()=>{C.value=!1},3e3)},M=async()=>{try{const s=await fetch("/api/items/hotkeys",{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(s.ok){const t=await s.json();if(console.log("Hotkeys recebidos na batalha:",t.hotkeys),t.success&&t.hotkeys){const r=[null,null,null,null];for(let a=1;a<=4;a++)t.hotkeys[a]&&(r[a-1]=t.hotkeys[a]);b.value=r,console.log("Hotkeys processados na batalha:",b.value)}else b.value=[null,null,null,null]}}catch(s){console.error("Erro ao carregar hotkeys:",s),b.value=[null,null,null,null]}},X=async s=>{var t;if(!(!b.value[s-1]||f.value)){b.value[s-1];try{const r=await fetch("/api/items/use-hotkey",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":T.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"","X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({slot:s})});if(r.ok){const a=await r.json();if(a.success){a.character&&(d.value={...d.value,...a.character},Object.keys(a.character).forEach(_=>{$.character[_]=a.character[_]})),await ut(),await M(),v(`üß™ ${a.message}`),q(a.message,"success");const c=document.querySelector(`[data-slot="${s}"]`);c&&(c.classList.add("animate-pulse","bg-green-100","border-green-400"),setTimeout(()=>{c.classList.remove("animate-pulse","bg-green-100","border-green-400")},1e3))}else v(`‚ùå ${a.message}`),q(a.message,"error")}}catch{v("‚ùå Erro ao usar po√ß√£o"),q("Erro ao usar po√ß√£o","error")}}},D=async s=>{var t;try{const r=T.props.csrf_token||((t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"))||"",a=await fetch(route("battle.start"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({monster_id:s.id})});if(!a.ok){const _=await a.json();if(console.error("Erro ao iniciar batalha:",_),_.error){v(`‚ùå ${_.error}`);return}throw new Error(`HTTP error! status: ${a.status}`)}const c=await a.json();Object.assign($.character,c.character),Object.assign(d.value,c.character),u.value=c.monster,S.value=c.battle_instance_id,N.value=!0,y.value=[],g.value=!1,w.value=null,f.value=!1,console.log("Battle setup:",{battle_instance_id:c.battle_instance_id,monster_hp:c.monster.current_hp,is_continuing:c.is_continuing_battle}),c.is_continuing_battle?v(`Continuando batalha contra ${s.name}! (HP: ${c.monster.current_hp}/${c.monster.max_hp})`):v(`Batalha iniciada contra ${s.name}!`)}catch(r){console.error("Erro ao iniciar batalha:",r),v("‚ùå Erro ao iniciar batalha!")}},I=()=>{A(),N.value=!1,u.value=null,S.value=null,y.value=[],g.value=!1,w.value=null,f.value=!1,p.value=!1},Qe=async()=>{u.value&&await D(u.value)},v=s=>{y.value.push(`[${new Date().toLocaleTimeString()}] ${s}`),y.value.length>20&&(y.value=y.value.slice(-20)),setTimeout(()=>{const t=document.querySelector(".battle-log");t&&(t.scrollTop=t.scrollHeight)},100)},Ye=()=>{p.value?Ze():A()},Ze=()=>{j.value&&clearInterval(j.value),v("ü§ñ Batalha autom√°tica ativada!"),j.value=setInterval(()=>{var s;!g.value&&!f.value&&(((s=d.value)==null?void 0:s.current_hp)||0)>0?U():g.value&&A()},3e3)},A=()=>{j.value&&(clearInterval(j.value),j.value=null),p.value&&(v("‚èπÔ∏è Batalha autom√°tica desativada!"),p.value=!1)},U=async()=>{var s;if(!(f.value||!u.value)){f.value=!0,v("Voc√™ atacou!");try{const t=T.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",r=await fetch(route("battle.attack"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:S.value})});if(!r.ok){const c=await r.json();if(console.error("Erro na resposta:",c),c.error&&c.error.includes("Stamina insuficiente")){v(`‚ùå ${c.error}`);return}throw new Error(`HTTP error! status: ${r.status} - ${c.error||"Erro desconhecido"}`)}const a=await r.json();console.log("Dados recebidos:",a),Object.assign($.character,a.character),Object.assign(d.value,a.character),Object.assign(u.value,a.monster),a.attack_result&&v(a.attack_result.message),a.monster_attack_result&&v(a.monster_attack_result.message),a.battle_over&&(g.value=!0,w.value=a.result,p.value=!1,a.leveled_up&&a.new_level&&(Je(a.new_level),v(`üéâ LEVEL UP! Voc√™ subiu para o n√≠vel ${a.new_level}! üéâ`)),a.result.winner==="character"?v(`[VIT√ìRIA] Voc√™ derrotou o monstro! Ganhou ${a.result.gold_reward} gold e ${a.result.exp_reward} EXP!`):a.result.winner==="monster"?v("[DERROTA] Voc√™ foi derrotado pelo monstro!"):a.result.winner==="fled"&&v("[FUGA] Voc√™ fugiu da batalha!"))}catch(t){console.error("Erro ao atacar:",t),v("‚ùå Erro ao executar ataque!")}finally{f.value=!1}}},et=async()=>{var s;if(!f.value){f.value=!0;try{const t=T.props.csrf_token||((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||"",r=await fetch(route("battle.flee"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t,"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},body:JSON.stringify({battle_instance_id:S.value})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();g.value=!0,w.value=a.result,v(a.result.message)}catch(t){console.error("Erro ao fugir:",t),v("‚ùå Erro ao tentar fugir!")}finally{f.value=!1}}},K=s=>{s.target.style.display="none";const t=s.target.nextElementSibling;t&&(t.style.display="flex")},G=s=>{if(g.value||f.value)return;const t=s.key;let r=null;switch(t){case"F1":r=1;break;case"F2":r=2;break;case"F3":r=3;break;case"F4":r=4;break;default:return}s.preventDefault(),b.value[r-1]&&X(r)};return st(()=>{M(),document.addEventListener("keydown",G)}),at(()=>{A(),document.removeEventListener("keydown",G)}),(s,t)=>{var r,a,c,_,J,W,Q,Y,Z,ee,te,se,ae,le,oe,re,ie,ne,de,ce,ue,ve,me,be,xe,fe,he,ge,pe,_e,ye,we,ke,je,Ee,$e,Te,Se,Ce,Ae,Pe,Oe,Ne,Be,qe,ze,Re,Ve,Fe,He,Le,Me;return n(),i("div",mt,[e("header",bt,[e("div",xt,[e("div",ft,[t[4]||(t[4]=e("div",{class:"flex-1"},[e("h1",{class:"text-2xl font-bold title-medieval"},"Chronicles of Eldoria")],-1)),t[5]||(t[5]=e("div",{class:"flex-1 text-center"},[e("h2",{class:"text-lg font-medieval"},"Arena de Batalha")],-1)),e("div",ht,[lt(it(nt),{href:s.route("dashboard"),class:"btn-medieval text-sm px-4 py-2 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark"},{default:ot(()=>[...t[3]||(t[3]=[rt(" Voltar ao Dashboard ",-1)])]),_:1},8,["href"])])])])]),N.value?(n(),i("div",gt,[B.value?(n(),i("div",pt,[e("div",_t,[t[6]||(t[6]=e("div",{class:"absolute inset-0 rounded-xl border-2 border-medieval-gold/50"},null,-1)),e("div",yt,[e("div",wt,l(H.value),1)]),t[7]||(t[7]=Ge('<div class="w-full h-1 bg-gradient-to-r from-transparent via-medieval-dark to-transparent mb-6" data-v-36a869e8></div><div class="bg-medieval-dark/30 rounded-xl p-6 border-2 border-medieval-bronze/50 relative z-10 mb-6" data-v-36a869e8><h4 class="text-2xl font-bold text-medieval-dark mb-6 text-center" data-v-36a869e8> üè∞ Recompensas de N√≠vel üè∞ </h4><div class="grid grid-cols-4 gap-4 mb-6" data-v-36a869e8><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-36a869e8><div class="text-4xl mb-2" data-v-36a869e8>‚öîÔ∏è</div><div class="text-sm font-semibold text-gray-900" data-v-36a869e8>Arma √âpica</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-36a869e8><div class="text-3xl text-white" data-v-36a869e8>üîí</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-36a869e8><div class="text-4xl mb-2" data-v-36a869e8>üõ°Ô∏è</div><div class="text-sm font-semibold text-gray-900" data-v-36a869e8>Armadura</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-36a869e8><div class="text-3xl text-white" data-v-36a869e8>üîí</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-36a869e8><div class="text-4xl mb-2" data-v-36a869e8>üíé</div><div class="text-sm font-semibold text-gray-900" data-v-36a869e8>Gema Rara</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-36a869e8><div class="text-3xl text-white" data-v-36a869e8>üîí</div></div></div><div class="bg-gray-500 rounded-xl p-4 text-center opacity-70 border-2 border-gray-600 relative" data-v-36a869e8><div class="text-4xl mb-2" data-v-36a869e8>üìú</div><div class="text-sm font-semibold text-gray-900" data-v-36a869e8>Pergaminho</div><div class="absolute inset-0 bg-black/50 rounded-xl flex items-center justify-center" data-v-36a869e8><div class="text-3xl text-white" data-v-36a869e8>üîí</div></div></div></div><div class="text-center" data-v-36a869e8><p class="text-lg text-medieval-dark font-semibold mb-2" data-v-36a869e8> üöß Sistema em Desenvolvimento üöß </p><p class="text-sm text-medieval-dark" data-v-36a869e8> Em breve voc√™ receber√° recompensas especiais ao subir de n√≠vel! </p></div></div>',2)),e("div",kt,[e("button",{onClick:t[0]||(t[0]=o=>B.value=!1),class:"bg-medieval-dark hover:bg-medieval-bronze text-medieval-gold font-bold py-3 px-8 rounded-lg border-2 border-medieval-bronze transition-all duration-200 hover:scale-105 shadow-lg"}," Fechar ")]),t[8]||(t[8]=e("div",{class:"absolute top-2 left-2 w-6 h-6 border-l-4 border-t-4 border-medieval-dark rounded-tl-lg"},null,-1)),t[9]||(t[9]=e("div",{class:"absolute top-2 right-2 w-6 h-6 border-r-4 border-t-4 border-medieval-dark rounded-tr-lg"},null,-1)),t[10]||(t[10]=e("div",{class:"absolute bottom-2 left-2 w-6 h-6 border-l-4 border-b-4 border-medieval-dark rounded-bl-lg"},null,-1)),t[11]||(t[11]=e("div",{class:"absolute bottom-2 right-2 w-6 h-6 border-r-4 border-b-4 border-medieval-dark rounded-br-lg"},null,-1))])])):h("",!0),e("div",jt,[e("div",{class:"bg-medieval-dark text-medieval-gold p-2 rounded-t-lg"},[e("div",{class:"flex justify-between items-center"},[t[12]||(t[12]=e("h3",{class:"text-sm font-bold title-medieval"},"Combate",-1)),e("button",{onClick:I,class:"text-medieval-gold hover:text-white text-lg p-1"}," √ó ")])]),e("div",Et,[e("div",$t,[e("div",Tt,[e("div",St,[e("h4",Ct,l((r=d.value)==null?void 0:r.name),1),e("div",At,[e("div",Pt,[e("div",Ot,[(c=(a=d.value)==null?void 0:a.active_frame)!=null&&c.image_path||(J=(_=m.character)==null?void 0:_.active_frame)!=null&&J.image_path?(n(),i("img",{key:0,src:((Q=(W=d.value)==null?void 0:W.active_frame)==null?void 0:Q.image_path)||((Z=(Y=m.character)==null?void 0:Y.active_frame)==null?void 0:Z.image_path),alt:`Moldura ${((te=(ee=d.value)==null?void 0:ee.active_frame)==null?void 0:te.name)||((ae=(se=m.character)==null?void 0:se.active_frame)==null?void 0:ae.name)}`,class:"w-20 h-20 sm:w-28 sm:h-28 rounded-full object-cover pointer-events-none z-20"},null,8,Nt)):h("",!0),e("img",{src:V(d.value)||V(m.character),alt:`Avatar de ${(le=d.value)==null?void 0:le.name}`,class:z(["absolute top-6 left-6 w-8 h-8 sm:w-16 sm:h-16 rounded-full object-cover z-10",(re=(oe=d.value)==null?void 0:oe.active_frame)!=null&&re.image_path||(ne=(ie=m.character)==null?void 0:ie.active_frame)!=null&&ne.image_path?"":"border-2 border-medieval-gold"])},null,10,Bt)])]),e("div",qt,[e("div",null,[e("div",zt,[t[13]||(t[13]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",Rt,l((de=d.value)==null?void 0:de.current_hp)+"/"+l((ce=d.value)==null?void 0:ce.max_hp),1)]),e("div",Vt,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:R({width:(ue=d.value)!=null&&ue.max_hp?`${(((ve=d.value)==null?void 0:ve.current_hp)||0)/d.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",null,[e("div",Ft,[t[14]||(t[14]=e("span",{class:"text-medieval"},"Stamina:",-1)),e("span",Ht,l((me=d.value)==null?void 0:me.current_stamina)+"/"+l((be=d.value)==null?void 0:be.max_stamina),1)]),e("div",Lt,[e("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:R({width:(xe=d.value)!=null&&xe.max_stamina?`${(((fe=d.value)==null?void 0:fe.current_stamina)||0)/d.value.max_stamina*100}%`:"0%"})},null,4)])]),e("div",Mt,[e("div",Xt,[t[15]||(t[15]=e("span",null,"N√≠vel:",-1)),e("span",Dt,l((he=d.value)==null?void 0:he.level),1)]),e("div",It,[t[16]||(t[16]=e("span",null,"Poder:",-1)),e("span",Ut,l((ge=d.value)==null?void 0:ge.power),1)])])])])]),e("div",Kt,[e("h4",Gt,l((pe=u.value)==null?void 0:pe.name),1),e("div",Jt,[e("div",Wt,[(_e=u.value)!=null&&_e.image_path?(n(),i("img",{key:0,src:u.value.image_path,alt:u.value.name,class:"w-10 h-10 sm:w-14 sm:h-14 object-contain",onError:K},null,40,Qt)):(n(),i("div",Yt,l((ye=u.value)==null?void 0:ye.image),1))]),e("div",Zt,[e("div",null,[e("div",es,[t[17]||(t[17]=e("span",{class:"text-medieval"},"HP:",-1)),e("span",ts,l((we=u.value)==null?void 0:we.current_hp)+"/"+l((ke=u.value)==null?void 0:ke.max_hp),1)]),e("div",ss,[e("div",{class:"bg-gradient-to-r from-red-500 to-red-600 h-1.5 rounded-full transition-all duration-500 ease-out shadow-sm",style:R({width:(je=u.value)!=null&&je.max_hp?`${(((Ee=u.value)==null?void 0:Ee.current_hp)||0)/u.value.max_hp*100}%`:"0%"})},null,4)])]),e("div",as,[e("div",ls,[t[18]||(t[18]=e("span",null,"N√≠vel:",-1)),e("span",os,l(($e=u.value)==null?void 0:$e.level),1)]),e("div",rs,[t[19]||(t[19]=e("span",null,"Ataque:",-1)),e("span",is,l((Te=u.value)==null?void 0:Te.attack_power),1)]),e("div",ns,[t[20]||(t[20]=e("span",null,"Defesa:",-1)),e("span",ds,l((Se=u.value)==null?void 0:Se.defense),1)]),e("div",cs,[t[21]||(t[21]=e("span",null,"Velocidade:",-1)),e("span",us,l((Ce=u.value)==null?void 0:Ce.speed),1)])])])])])])]),e("div",vs,[t[22]||(t[22]=e("h3",{class:"text-xs sm:text-sm subtitle-medieval mb-1 sm:mb-2 text-medieval-gold"},"Log de Combate",-1)),e("div",ms,[(n(!0),i(P,null,O(y.value,(o,k)=>(n(),i("div",{key:k,class:"mb-1 break-words"},l(o),1))),128)),y.value.length===0?(n(),i("div",bs," A batalha come√ßou! Escolha sua a√ß√£o... ")):h("",!0)])]),g.value?h("",!0):(n(),i("div",xs,[e("div",fs,[t[25]||(t[25]=e("h3",{class:"text-xs subtitle-medieval mb-1 text-medieval-gold"},"Escolha sua A√ß√£o",-1)),(((Ae=d.value)==null?void 0:Ae.current_hp)||0)<=0?(n(),i("div",hs,[...t[23]||(t[23]=[e("p",{class:"text-xs text-red-800"}," üíÄ Voc√™ est√° morto! Precisa ser revivido para batalhar. ",-1)])])):h("",!0),(((Pe=d.value)==null?void 0:Pe.current_hp)||0)>0?(n(),i("div",gs,[e("label",ps,[dt(e("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=o=>p.value=o),onChange:Ye,class:"w-3 h-3 sm:w-4 sm:h-4 text-medieval-gold bg-gray-100 border-gray-300 rounded focus:ring-medieval-gold focus:ring-2"},null,544),[[ct,p.value]]),t[24]||(t[24]=e("span",{class:"text-xs text-medieval font-medium"},"Batalha Autom√°tica",-1))])])):h("",!0),e("div",_s,[e("button",{onClick:U,disabled:f.value||(((Oe=d.value)==null?void 0:Oe.current_hp)||0)<=0||p.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"},l(f.value?"Atacando...":p.value?"ü§ñ Autom√°tico":"Atacar"),9,ys),e("button",{onClick:et,disabled:f.value,class:"btn-medieval px-2 sm:px-3 py-1 text-xs font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-transform"}," Fugir ",8,ws)])])])),t[31]||(t[31]=e("div",{class:"mb-1 sm:mb-3"},null,-1)),g.value?(n(),i("div",ks,[e("div",js,[e("p",Es,l((Ne=w.value)==null?void 0:Ne.message),1),((Be=w.value)==null?void 0:Be.winner)==="character"?(n(),i("div",$s,[t[26]||(t[26]=e("h4",{class:"font-bold text-green-800 mb-2 text-sm sm:text-base"},"Recompensas Obtidas:",-1)),e("div",Ts,[e("span",Ss,"ü™ô +"+l(((qe=w.value)==null?void 0:qe.gold_reward)||0)+" Gold",1),e("span",Cs,"‚≠ê +"+l(((ze=w.value)==null?void 0:ze.exp_reward)||0)+" EXP",1)])])):h("",!0),e("div",{class:"flex flex-col sm:flex-row justify-center gap-2"},[e("button",{onClick:Qe,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold transform hover:scale-105 transition-transform"}," Batalhar Novamente "),e("button",{onClick:I,class:"btn-medieval px-4 sm:px-6 py-2 text-sm sm:text-base font-semibold bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark transform hover:scale-105 transition-transform"}," Fechar ")])])])):h("",!0),g.value?h("",!0):(n(),i("div",As,[e("div",Ps,[e("div",Os,[t[29]||(t[29]=e("h3",{class:"text-sm subtitle-medieval mb-2 text-medieval-gold text-center"},"Po√ß√µes",-1)),e("div",Ns,[(n(),i(P,null,O(4,o=>e("div",{key:o,class:"relative group"},[e("button",{"data-slot":o,onClick:k=>X(o),disabled:f.value||!b.value[o-1],class:z(["bg-white rounded-lg border-2 border-medieval-bronze w-14 h-14 sm:w-20 sm:h-20 flex flex-col items-center justify-center hover:bg-amber-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{"border-medieval-gold bg-medieval-bronze shadow-md":b.value[o-1],"border-medieval-bronze bg-white":!b.value[o-1]}])},[b.value[o-1]?(n(),i("div",qs,[e("img",{src:b.value[o-1].item.image_path,alt:b.value[o-1].item.name,class:"w-6 h-6 sm:w-8 sm:h-8 mb-1"},null,8,zs),e("span",Rs,l(b.value[o-1].quantity)+"x",1),e("div",Vs,"[F"+l(o)+"]",1)])):(n(),i("div",Fs,[e("span",Hs,"F"+l(o),1),t[27]||(t[27]=e("span",{class:"text-medieval-stone text-xs font-semibold"},"Vazio",-1))]))],10,Bs),b.value[o-1]?(n(),i("div",Ls,[e("div",Ms,l(b.value[o-1].item.name),1),(n(!0),i(P,null,O(b.value[o-1].item.effects,k=>(n(),i("div",{key:k.id,class:"text-green-400"},l(We(k)),1))),128)),e("div",Xs,"Quantidade: "+l(b.value[o-1].quantity),1),t[28]||(t[28]=e("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900"},null,-1))])):h("",!0)])),64))])]),t[30]||(t[30]=Ge('<div class="flex-1" data-v-36a869e8><h3 class="text-sm subtitle-medieval mb-2 text-medieval-gold text-center" data-v-36a869e8>Habilidades</h3><div class="flex justify-center" data-v-36a869e8><div class="bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-2 sm:p-3 text-center opacity-75 h-12 sm:h-16 flex items-center justify-center w-full max-w-xs" data-v-36a869e8><div class="text-gray-500" data-v-36a869e8><div class="text-sm sm:text-lg mb-1" data-v-36a869e8>üöß</div><div class="font-medium text-xs sm:text-sm" data-v-36a869e8>Em Breve</div></div></div></div></div>',1))])]))])]),C.value?(n(),i("div",Ds,[e("div",{class:z(["card-medieval p-3 max-w-sm",{"border-green-500 bg-green-50":E.value==="success","border-red-500 bg-red-50":E.value==="error","border-blue-500 bg-blue-50":E.value==="info"}])},[e("div",Is,[e("div",Us,[E.value==="success"?(n(),i("span",Ks,"üß™")):E.value==="error"?(n(),i("span",Gs,"‚ùå")):(n(),i("span",Js,"‚ÑπÔ∏è"))]),e("div",Ws,[e("p",Qs,l(F.value),1)]),e("button",{onClick:t[2]||(t[2]=o=>C.value=!1),class:"text-medieval-stone hover:text-medieval-dark"}," √ó ")])],2)])):h("",!0)])):h("",!0),e("main",Ys,[e("div",Zs,[e("div",ea,[t[37]||(t[37]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Seu Personagem",-1)),e("div",ta,[e("div",sa,[t[32]||(t[32]=e("div",{class:"text-2xl mb-2"},"‚öîÔ∏è",-1)),e("h4",aa,l((Re=m.character)==null?void 0:Re.name),1),e("p",la,"N√≠vel "+l((Ve=m.character)==null?void 0:Ve.level),1)]),e("div",oa,[t[33]||(t[33]=e("div",{class:"text-2xl mb-2"},"‚ù§Ô∏è",-1)),e("h4",ra,l((Fe=m.character)==null?void 0:Fe.current_hp)+"/"+l((He=m.character)==null?void 0:He.max_hp),1),t[34]||(t[34]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Vida",-1))]),e("div",ia,[t[35]||(t[35]=e("div",{class:"text-2xl mb-2"},"‚ö°",-1)),e("h4",na,l((Le=m.character)==null?void 0:Le.current_stamina)+"/"+l((Me=m.character)==null?void 0:Me.max_stamina),1),t[36]||(t[36]=e("p",{class:"text-sm text-medieval-stone"},"Pontos de Stamina",-1))])])]),e("div",da,[t[46]||(t[46]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Escolha seu Oponente",-1)),e("div",ca,[(n(!0),i(P,null,O(m.monsters,o=>{var k,Xe,De,Ie,Ue,Ke;return n(),i("div",{key:o.id,class:"bg-white rounded-lg border-2 border-gray-200 p-4 hover:border-medieval-gold transition-colors"},[e("div",ua,[o.image_path?(n(),i("img",{key:0,src:o.image_path,alt:o.name,class:"w-16 h-16 object-contain",onError:K},null,40,va)):(n(),i("div",ma,l(o.image),1))]),e("h4",ba,l(o.name),1),e("p",xa,l(o.description),1),e("div",fa,[e("div",ha,[t[38]||(t[38]=e("span",null,"N√≠vel:",-1)),e("span",ga,l(o.level),1)]),e("div",pa,[t[39]||(t[39]=e("span",null,"HP:",-1)),e("span",_a,l(o.max_hp),1)]),e("div",ya,[t[40]||(t[40]=e("span",null,"Ataque:",-1)),e("span",wa,l(o.attack_power),1)]),e("div",ka,[t[41]||(t[41]=e("span",null,"Defesa:",-1)),e("span",ja,l(o.defense),1)]),e("div",Ea,[t[42]||(t[42]=e("span",null,"Velocidade:",-1)),e("span",$a,l(o.speed),1)])]),e("div",Ta,[e("div",Sa,[e("div",Ca,[t[43]||(t[43]=e("span",{class:"text-yellow-600"},"ü™ô Gold:",-1)),e("span",Aa,l(L(o.gold_reward)),1)]),e("div",Pa,[t[44]||(t[44]=e("span",{class:"text-blue-600"},"‚≠ê EXP:",-1)),e("span",Oa,l(L(o.exp_reward)),1)]),e("div",Na,[t[45]||(t[45]=e("span",{class:"text-purple-600"},"‚ö° Stamina:",-1)),e("span",Ba,l(o.stamina_cost||10),1)])])]),e("button",{onClick:Ra=>D(o),disabled:o.level>(((k=m.character)==null?void 0:k.level)||0)+2||(((Xe=m.character)==null?void 0:Xe.current_stamina)||0)<(o.stamina_cost||10)||(((De=m.character)==null?void 0:De.current_hp)||0)<=0,class:"w-full btn-medieval text-sm py-2 disabled:opacity-50 disabled:cursor-not-allowed"},l(o.level>(((Ie=m.character)==null?void 0:Ie.level)||0)+2?"Muito Forte":(((Ue=m.character)==null?void 0:Ue.current_hp)||0)<=0?"Morto":(((Ke=m.character)==null?void 0:Ke.current_stamina)||0)<(o.stamina_cost||10)?"Sem Stamina":"Batalhar"),9,qa)])}),128))])])])]),t[47]||(t[47]=e("footer",{class:"bg-medieval-dark text-medieval-stone text-center py-4"},[e("p",null,"¬© 2025 Chronicles of Eldoria. Todos os direitos reservados.")],-1))])}}},Ha=vt(za,[["__scopeId","data-v-36a869e8"]]);export{Ha as default};
