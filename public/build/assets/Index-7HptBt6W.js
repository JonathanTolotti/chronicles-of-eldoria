import{p as k,q as V,B as x,s as q,g as b,o as p,b as e,a as P,w as z,f as A,d as B,l as E,t as o,y as F,e as U,k as T,H as I,x as D}from"./app-ByWQPthd.js";const G={class:"min-h-screen bg-gradient-to-br from-amber-50 to-amber-100"},L={class:"bg-medieval-dark text-medieval-gold shadow-lg"},O={class:"container mx-auto px-4 py-4"},$={class:"flex justify-between items-center"},H={class:"flex-1 flex justify-end space-x-4"},R={class:"flex-1 p-4"},J={class:"max-w-4xl mx-auto"},K={class:"card-medieval mb-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W={class:"space-y-2 text-sm"},X={class:"flex justify-between"},Y={class:"font-semibold text-medieval-gold"},Z={class:"flex justify-between"},ee={class:"font-semibold text-medieval-gold"},te={class:"flex justify-between"},se={class:"font-semibold text-medieval-gold"},ae={class:"flex justify-between"},oe={class:"font-semibold text-green-600"},ne={class:"space-y-2 text-sm"},ie={class:"flex justify-between"},le={class:"font-semibold text-medieval-gold"},re={class:"flex justify-between"},de={class:"font-semibold text-medieval-gold"},ce={class:"flex justify-between"},ue={class:"font-semibold text-medieval-gold"},me={class:"flex justify-between"},ve={class:"font-semibold text-medieval-gold"},ge={class:"flex justify-between"},fe={class:"font-semibold text-medieval-gold"},xe={key:0,class:"card-medieval mb-6"},be={class:"bg-amber-50 p-4 rounded-lg"},pe={class:"mb-4"},he={class:"text-medieval font-semibold"},we={class:"text-sm text-medieval"},ye={class:"text-xs text-gray-600 mt-1"},_e={class:"w-full bg-gray-300 rounded-full h-3"},ke={key:1,class:"card-medieval"},Te=["disabled"],De={__name:"Index",props:{character:Object},setup(s){const i=s,l=k({stat:"",duration:""}),u=k(new Date);let g=null;const S=a=>{switch(a){case"warrior":return"Guerreiro";case"mage":return"Mago";case"archer":return"Arqueiro";case"rogue":return"Ladino";default:return"Guerreiro"}},j=a=>{switch(a){case"strength":return"Força";case"dexterity":return"Destreza";case"constitution":return"Constituição";case"intelligence":return"Inteligência";case"luck":return"Sorte";default:return a}},C=()=>{var c;if(!((c=i.character)!=null&&c.training_ends_at))return"0 minutos";const a=u.value,n=new Date(i.character.training_ends_at)-a;if(n<=0)return"Pronto!";const r=Math.floor(n/6e4),d=Math.floor(n%6e4/1e3);return`${r}m ${d}s`},M=()=>{var m,v;if(!((m=i.character)!=null&&m.training_ends_at)||!((v=i.character)!=null&&v.training_started_at))return 0;const a=u.value,t=new Date(i.character.training_started_at),r=new Date(i.character.training_ends_at)-t,d=a-t;return r<=0?100:Math.min(100,Math.max(0,d/r*100))},N=()=>{x.post(route("training.start"),l.value,{onSuccess:()=>{l.value={stat:"",duration:""}}})};return V(()=>{g=setInterval(()=>{var t;if(u.value=new Date,(t=i.character)!=null&&t.training_stat){const n=new Date(i.character.training_ends_at);u.value>=n&&x.reload()}},1e3);const a=setInterval(()=>{var t;if((t=i.character)!=null&&t.training_stat){const n=new Date(i.character.training_ends_at);u.value>=n&&x.reload()}},3e4);window.backendCheckInterval=a}),q(()=>{g&&clearInterval(g),window.backendCheckInterval&&clearInterval(window.backendCheckInterval)}),(a,t)=>{var n,r,d,c,m,v,h,w,y,_;return p(),b("div",G,[e("header",L,[e("div",O,[e("div",$,[t[3]||(t[3]=e("div",{class:"flex-1"},[e("h1",{class:"text-2xl font-bold font-medieval-decorative"},"Chronicles of Eldoria")],-1)),t[4]||(t[4]=e("div",{class:"flex-1 text-center"},[e("h2",{class:"text-lg font-medieval"},"Treinamento")],-1)),e("div",H,[P(B(E),{href:a.route("dashboard"),class:"btn-medieval text-sm px-4 py-2 bg-transparent border-medieval-gold text-medieval-gold hover:bg-medieval-gold hover:text-medieval-dark"},{default:z(()=>[...t[2]||(t[2]=[A(" Voltar ao Dashboard ",-1)])]),_:1},8,["href"])])])])]),e("main",R,[e("div",J,[e("div",K,[t[16]||(t[16]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Status do Personagem",-1)),e("div",Q,[e("div",null,[t[9]||(t[9]=e("h4",{class:"subtitle-medieval mb-3 text-medieval-gold"},"Informações",-1)),e("div",W,[e("div",X,[t[5]||(t[5]=e("span",{class:"text-medieval"},"Nome:",-1)),e("span",Y,o((n=s.character)==null?void 0:n.name),1)]),e("div",Z,[t[6]||(t[6]=e("span",{class:"text-medieval"},"Classe:",-1)),e("span",ee,o(S((r=s.character)==null?void 0:r.class)),1)]),e("div",te,[t[7]||(t[7]=e("span",{class:"text-medieval"},"Nível:",-1)),e("span",se,o((d=s.character)==null?void 0:d.level),1)]),e("div",ae,[t[8]||(t[8]=e("span",{class:"text-medieval"},"Pontos Livres:",-1)),e("span",oe,o(((c=s.character)==null?void 0:c.stat_points)||0),1)])])]),e("div",null,[t[15]||(t[15]=e("h4",{class:"subtitle-medieval mb-3 text-medieval-gold"},"Atributos",-1)),e("div",ne,[e("div",ie,[t[10]||(t[10]=e("span",{class:"text-medieval"},"Força:",-1)),e("span",le,o(((m=s.character)==null?void 0:m.strength)||0),1)]),e("div",re,[t[11]||(t[11]=e("span",{class:"text-medieval"},"Destreza:",-1)),e("span",de,o(((v=s.character)==null?void 0:v.dexterity)||0),1)]),e("div",ce,[t[12]||(t[12]=e("span",{class:"text-medieval"},"Constituição:",-1)),e("span",ue,o(((h=s.character)==null?void 0:h.constitution)||0),1)]),e("div",me,[t[13]||(t[13]=e("span",{class:"text-medieval"},"Inteligência:",-1)),e("span",ve,o(((w=s.character)==null?void 0:w.intelligence)||0),1)]),e("div",ge,[t[14]||(t[14]=e("span",{class:"text-medieval"},"Sorte:",-1)),e("span",fe,o(((y=s.character)==null?void 0:y.luck)||0),1)])])])])]),(_=s.character)!=null&&_.training_stat?(p(),b("div",xe,[t[18]||(t[18]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Treinamento Ativo",-1)),e("div",be,[e("div",pe,[e("p",he," Treinando: "+o(j(s.character.training_stat)),1),e("p",we," Tempo restante: "+o(C()),1),e("p",ye," Pontos a receber: "+o(s.character.training_points||0),1)]),e("div",_e,[e("div",{class:"bg-green-500 h-3 rounded-full transition-all duration-300",style:F({width:M()+"%"})},null,4)]),t[17]||(t[17]=e("p",{class:"text-xs text-gray-600 mt-2"}," O treinamento será concluído automaticamente quando o tempo acabar. ",-1))])])):(p(),b("div",ke,[t[23]||(t[23]=e("h3",{class:"text-xl subtitle-medieval mb-4 text-medieval-gold"},"Iniciar Treinamento",-1)),e("form",{onSubmit:U(N,["prevent"]),class:"space-y-4"},[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-medieval font-semibold mb-2"},"Atributo para Treinar",-1)),T(e("select",{"onUpdate:modelValue":t[0]||(t[0]=f=>l.value.stat=f),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medieval-gold focus:border-transparent",required:""},[...t[19]||(t[19]=[D('<option value="">Selecione um atributo</option><option value="strength">Força</option><option value="dexterity">Destreza</option><option value="constitution">Constituição</option><option value="intelligence">Inteligência</option><option value="luck">Sorte</option>',6)])],512),[[I,l.value.stat]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-medieval font-semibold mb-2"},"Duração (minutos)",-1)),T(e("select",{"onUpdate:modelValue":t[1]||(t[1]=f=>l.value.duration=f),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-medieval-gold focus:border-transparent",required:""},[...t[21]||(t[21]=[D('<option value="">Selecione a duração</option><option value="5">5 minutos (+1 ponto)</option><option value="15">15 minutos (+1 ponto)</option><option value="30">30 minutos (+1 ponto)</option><option value="60">1 hora (+2 pontos)</option>',5)])],512),[[I,l.value.duration]])]),e("button",{type:"submit",class:"btn-medieval w-full py-3 text-lg",disabled:!l.value.stat||!l.value.duration}," Iniciar Treinamento ",8,Te)],32)]))])]),t[24]||(t[24]=e("footer",{class:"bg-medieval-dark text-medieval-stone text-center py-4"},[e("p",null,"© 2025 Chronicles of Eldoria. Todos os direitos reservados.")],-1))])}}};export{De as default};
